<?xml version="1.0" encoding="UTF-8"?>
<transformationModule version="1.0" xmlns="http://www.wldelft.nl/fews" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.wldelft.nl/fews http://fews.wldelft.nl/schemas/version1.0/transformationModule.xsd">
	<!-- Preparation of timeseries to evaluate theshold crossings
To avoid unnecessary data processing this is only done for those combinations of locations and 
parameters as follows from ROWS_ops_Thresholds.csv. 
The parameters that have at least one threshold associated with them are: 
        H, V, Q, QORD, QDIV, EC, QRL. 
Per parameter and selected location obs, calc and forecast series are merged, in that order of preference. 
For the diversions and orders also a merge of subtypes 
		(irrig, urban, total, saline, ind, envpump, envstruct and st, lt, mdbc respectively) is done. 
The subtypes are assumed to be non-overlapping so no data is lost. -->
	<!-- The dH rate of fall for Heywoods and Doctors Point is calculated based on hourly data (instead of daily 8am).
Calculate the Maximum rate of fall within a 24 hour period (i.e. the hourly data for the 24 hour period (8am - 7am))
Calculate the 6 day rolling average of rate off fall
Heywoods Rule:
 a. Q (at 409017) < 25,000 ML/day, ΔH (rate of fall) > 0.225 m
 b. When Q (at 409017) < 25,000 ML/day, ΔH (rate of fall) (6 day rolling average) > 0.249m
Doctors Point Rule:
 a.When Q < 25,000 ML/day, ΔH (rate of fall) > 0.225 m
 b.When Q < 25,000 ML/day, ΔH (rate of fall) (6 day rolling average) > 0.154 m-->
	<!--Create "counted" timeseries for all SO Threshold_sites and parameter combinations. 
The default value will be 1 (counted). These timeseries will be used to ignore certain timesteps 
from the threshold count: If these timeseries are set to 0 by the operator, any threshold 
violations will not be counted. 
Note: The thresholds violations themselves are not removed, they will just not be counted. 
The counting takes place in the AssessThresholdsMDBC_OPS_SO module.-->
	<!-- Counted variables-->
	<variable>
		<variableId>H_thresh_counted</variableId>
		<timeSeriesSet>
			<moduleInstanceId>PreprocessThresholdsMDBC_OPS</moduleInstanceId>
			<valueType>scalar</valueType>
			<parameterId>Threshold_H_counted</parameterId>
			<qualifierId>SO</qualifierId>
			<locationSetId>threshold_sites_H_SO</locationSetId>
			<timeSeriesType>external historical</timeSeriesType>
			<timeStep id="8am"/>
			<relativeViewPeriod end="0" start="-367" startOverrulable="true" unit="day"/>
			<readWriteMode>add originals</readWriteMode>
		</timeSeriesSet>
	</variable>
	<variable>
		<variableId>dH_thresh_counted</variableId>
		<timeSeriesSet>
			<moduleInstanceId>PreprocessThresholdsMDBC_OPS</moduleInstanceId>
			<valueType>scalar</valueType>
			<parameterId>Threshold_dH_counted</parameterId>
			<qualifierId>SO</qualifierId>
			<locationSetId>threshold_sites_dH_SO</locationSetId>
			<timeSeriesType>external historical</timeSeriesType>
			<timeStep id="8am"/>
			<relativeViewPeriod end="0" start="-367" startOverrulable="true" unit="day"/>
			<readWriteMode>add originals</readWriteMode>
		</timeSeriesSet>
	</variable>
	<variable>
		<variableId>dH_6days_thresh_counted</variableId>
		<timeSeriesSet>
			<moduleInstanceId>PreprocessThresholdsMDBC_OPS</moduleInstanceId>
			<valueType>scalar</valueType>
			<parameterId>Threshold_dH_counted</parameterId>
			<qualifierId>SO</qualifierId>
			<qualifierId>mov_avg</qualifierId>
			<locationSetId>threshold_sites_dH_SO</locationSetId>
			<timeSeriesType>external historical</timeSeriesType>
			<timeStep id="8am"/>
			<relativeViewPeriod end="0" start="-367" startOverrulable="true" unit="day"/>
			<readWriteMode>add originals</readWriteMode>
		</timeSeriesSet>
	</variable>
	<variable>
		<variableId>Q_thresh_counted</variableId>
		<timeSeriesSet>
			<moduleInstanceId>PreprocessThresholdsMDBC_OPS</moduleInstanceId>
			<valueType>scalar</valueType>
			<parameterId>Threshold_Q_counted</parameterId>
			<qualifierId>SO</qualifierId>
			<locationSetId>threshold_sites_Q_SO</locationSetId>
			<timeSeriesType>external historical</timeSeriesType>
			<timeStep id="8am"/>
			<relativeViewPeriod end="0" start="-367" startOverrulable="true" unit="day"/>
			<readWriteMode>add originals</readWriteMode>
		</timeSeriesSet>
	</variable>
	<variable>
		<variableId>dQ_thresh_counted</variableId>
		<timeSeriesSet>
			<moduleInstanceId>PreprocessThresholdsMDBC_OPS</moduleInstanceId>
			<valueType>scalar</valueType>
			<parameterId>Threshold_dQ_counted</parameterId>
			<qualifierId>SO</qualifierId>
			<locationSetId>threshold_sites_dQ_SO</locationSetId>
			<timeSeriesType>external historical</timeSeriesType>
			<timeStep id="8am"/>
			<relativeViewPeriod end="0" start="-367" startOverrulable="true" unit="day"/>
			<readWriteMode>add originals</readWriteMode>
		</timeSeriesSet>
	</variable>
	<variable>
		<variableId>V_thresh_counted</variableId>
		<timeSeriesSet>
			<moduleInstanceId>PreprocessThresholdsMDBC_OPS</moduleInstanceId>
			<valueType>scalar</valueType>
			<parameterId>Threshold_V_counted</parameterId>
			<qualifierId>SO</qualifierId>
			<locationSetId>threshold_sites_V_SO</locationSetId>
			<timeSeriesType>external historical</timeSeriesType>
			<timeStep id="8am"/>
			<relativeViewPeriod end="0" start="-367" startOverrulable="true" unit="day"/>
			<readWriteMode>add originals</readWriteMode>
		</timeSeriesSet>
	</variable>
	<variable>
		<variableId>DO_thresh_counted</variableId>
		<timeSeriesSet>
			<moduleInstanceId>PreprocessThresholdsMDBC_OPS</moduleInstanceId>
			<valueType>scalar</valueType>
			<parameterId>Threshold_DO%_counted</parameterId>
			<qualifierId>SO</qualifierId>
			<locationSetId>threshold_sites_DO%</locationSetId>
			<timeSeriesType>external historical</timeSeriesType>
			<timeStep id="8am"/>
			<relativeViewPeriod end="0" start="-367" startOverrulable="true" unit="day"/>
			<readWriteMode>add originals</readWriteMode>
		</timeSeriesSet>
	</variable>
	<variable>
		<variableId>H_thresh_counted_tmp</variableId>
		<timeSeriesSet>
			<moduleInstanceId>PreprocessThresholdsMDBC_OPS</moduleInstanceId>
			<valueType>scalar</valueType>
			<parameterId>Threshold_H_counted</parameterId>
			<qualifierId>SO</qualifierId>
			<locationSetId>threshold_sites_H_SO</locationSetId>
			<timeSeriesType>temporary</timeSeriesType>
			<timeStep id="8am"/>
			<relativeViewPeriod end="0" start="-367" startOverrulable="true" unit="day"/>
			<readWriteMode>editing visible to all future task runs</readWriteMode>
		</timeSeriesSet>
	</variable>
	<variable>
		<variableId>dH_thresh_counted_tmp</variableId>
		<timeSeriesSet>
			<moduleInstanceId>PreprocessThresholdsMDBC_OPS</moduleInstanceId>
			<valueType>scalar</valueType>
			<parameterId>Threshold_dH_counted</parameterId>
			<qualifierId>SO</qualifierId>
			<locationSetId>threshold_sites_dH_SO</locationSetId>
			<timeSeriesType>temporary</timeSeriesType>
			<timeStep id="8am"/>
			<relativeViewPeriod end="0" start="-367" startOverrulable="true" unit="day"/>
			<readWriteMode>editing visible to all future task runs</readWriteMode>
		</timeSeriesSet>
	</variable>
	<variable>
		<variableId>dH_6days_thresh_counted_tmp</variableId>
		<timeSeriesSet>
			<moduleInstanceId>PreprocessThresholdsMDBC_OPS</moduleInstanceId>
			<valueType>scalar</valueType>
			<parameterId>Threshold_dH_counted</parameterId>
			<qualifierId>SO</qualifierId>
			<qualifierId>mov_avg</qualifierId>
			<locationSetId>threshold_sites_dH_SO</locationSetId>
			<timeSeriesType>temporary</timeSeriesType>
			<timeStep id="8am"/>
			<relativeViewPeriod end="0" start="-367" startOverrulable="true" unit="day"/>
			<readWriteMode>editing visible to all future task runs</readWriteMode>
		</timeSeriesSet>
	</variable>
	<variable>
		<variableId>Q_thresh_counted_tmp</variableId>
		<timeSeriesSet>
			<moduleInstanceId>PreprocessThresholdsMDBC_OPS</moduleInstanceId>
			<valueType>scalar</valueType>
			<parameterId>Threshold_Q_counted</parameterId>
			<qualifierId>SO</qualifierId>
			<locationSetId>threshold_sites_Q_SO</locationSetId>
			<timeSeriesType>temporary</timeSeriesType>
			<timeStep id="8am"/>
			<relativeViewPeriod end="0" start="-367" startOverrulable="true" unit="day"/>
			<readWriteMode>editing visible to all future task runs</readWriteMode>
		</timeSeriesSet>
	</variable>
	<variable>
		<variableId>dQ_thresh_counted_tmp</variableId>
		<timeSeriesSet>
			<moduleInstanceId>PreprocessThresholdsMDBC_OPS</moduleInstanceId>
			<valueType>scalar</valueType>
			<parameterId>Threshold_dQ_counted</parameterId>
			<qualifierId>SO</qualifierId>
			<locationSetId>threshold_sites_dQ_SO</locationSetId>
			<timeSeriesType>temporary</timeSeriesType>
			<timeStep id="8am"/>
			<relativeViewPeriod end="0" start="-367" startOverrulable="true" unit="day"/>
			<readWriteMode>editing visible to all future task runs</readWriteMode>
		</timeSeriesSet>
	</variable>
	<variable>
		<variableId>V_thresh_counted_tmp</variableId>
		<timeSeriesSet>
			<moduleInstanceId>PreprocessThresholdsMDBC_OPS</moduleInstanceId>
			<valueType>scalar</valueType>
			<parameterId>Threshold_V_counted</parameterId>
			<qualifierId>SO</qualifierId>
			<locationSetId>threshold_sites_V_SO</locationSetId>
			<timeSeriesType>temporary</timeSeriesType>
			<timeStep id="8am"/>
			<relativeViewPeriod end="0" start="-367" startOverrulable="true" unit="day"/>
			<readWriteMode>editing visible to all future task runs</readWriteMode>
		</timeSeriesSet>
	</variable>
	<variable>
		<variableId>DO_thresh_counted_tmp</variableId>
		<timeSeriesSet>
			<moduleInstanceId>PreprocessThresholdsMDBC_OPS</moduleInstanceId>
			<valueType>scalar</valueType>
			<parameterId>Threshold_DO%_counted</parameterId>
			<qualifierId>SO</qualifierId>
			<locationSetId>threshold_sites_DO%</locationSetId>
			<timeSeriesType>temporary</timeSeriesType>
			<timeStep id="8am"/>
			<relativeViewPeriod end="0" start="-367" startOverrulable="true" unit="day"/>
			<readWriteMode>editing visible to all future task runs</readWriteMode>
		</timeSeriesSet>
	</variable>
	<!--Input variables-->
	<variable>
		<variableId>H_obs_opt_neq</variableId>
		<timeSeriesSet>
			<moduleInstanceId>ImportObserved</moduleInstanceId>
			<valueType>scalar</valueType>
			<parameterId>H_obs</parameterId>
			<qualifierId>opt</qualifierId>
			<qualifierId>raw</qualifierId>
			<locationSetId>threshold_sites_dH_hourly</locationSetId>
			<timeSeriesType>external historical</timeSeriesType>
			<timeStep unit="nonequidistant"/>
			<relativeViewPeriod end="0" start="-367" startOverrulable="true" unit="day"/>
			<readWriteMode>read only</readWriteMode>
		</timeSeriesSet>
	</variable>
	<variable>
		<variableId>H_obs_opc_neq</variableId>
		<timeSeriesSet>
			<moduleInstanceId>ImportObserved</moduleInstanceId>
			<valueType>scalar</valueType>
			<parameterId>H_obs</parameterId>
			<qualifierId>opc</qualifierId>
			<qualifierId>raw</qualifierId>
			<locationSetId>threshold_sites_dH_hourly</locationSetId>
			<timeSeriesType>external historical</timeSeriesType>
			<timeStep unit="nonequidistant"/>
			<relativeViewPeriod end="0" start="-367" startOverrulable="true" unit="day"/>
			<readWriteMode>read only</readWriteMode>
		</timeSeriesSet>
	</variable>
	<variable>
		<variableId>H_obs_opt2_neq</variableId>
		<timeSeriesSet>
			<moduleInstanceId>ImportObserved</moduleInstanceId>
			<valueType>scalar</valueType>
			<parameterId>H_obs</parameterId>
			<qualifierId>opt2</qualifierId>
			<qualifierId>raw</qualifierId>
			<locationSetId>threshold_sites_dH_hourly</locationSetId>
			<timeSeriesType>external historical</timeSeriesType>
			<timeStep unit="nonequidistant"/>
			<relativeViewPeriod end="0" start="-367" startOverrulable="true" unit="day"/>
			<readWriteMode>read only</readWriteMode>
		</timeSeriesSet>
	</variable>
	<variable>
		<variableId>V_calc</variableId>
		<timeSeriesSet>
			<moduleInstanceId>ImportMDBC_OPS</moduleInstanceId>
			<valueType>scalar</valueType>
			<parameterId>V_calc</parameterId>
			<locationSetId>threshold_sites_all</locationSetId>
			<timeSeriesType>external historical</timeSeriesType>
			<timeStep id="8am"/>
			<relativeViewPeriod end="0" start="-367" startOverrulable="true" unit="day"/>
			<readWriteMode>read only</readWriteMode>
		</timeSeriesSet>
	</variable>
	<variable>
		<variableId>V_obs_leveltostorage</variableId>
		<timeSeriesSet>
			<moduleInstanceId>LevelToStorage</moduleInstanceId>
			<valueType>scalar</valueType>
			<parameterId>V_obs</parameterId>
			<qualifierId>capacity</qualifierId>
			<locationSetId>threshold_sites_all</locationSetId>
			<timeSeriesType>external historical</timeSeriesType>
			<timeStep id="8am"/>
			<relativeViewPeriod end="0" start="-367" startOverrulable="true" unit="day"/>
			<readWriteMode>read only</readWriteMode>
		</timeSeriesSet>
	</variable>
	<variable>
		<variableId>V_calc_leveltostorage</variableId>
		<timeSeriesSet>
			<moduleInstanceId>LevelToStorage</moduleInstanceId>
			<valueType>scalar</valueType>
			<parameterId>V_calc</parameterId>
			<qualifierId>capacity</qualifierId>
			<locationSetId>threshold_sites_all</locationSetId>
			<timeSeriesType>external historical</timeSeriesType>
			<timeStep id="8am"/>
			<relativeViewPeriod end="0" start="-367" startOverrulable="true" unit="day"/>
			<readWriteMode>read only</readWriteMode>
		</timeSeriesSet>
	</variable>
	<variable>
		<variableId>Q_calc</variableId>
		<timeSeriesSet>
			<moduleInstanceId>ImportMDBC_OPS</moduleInstanceId>
			<valueType>scalar</valueType>
			<parameterId>Q_calc</parameterId>
			<locationSetId>threshold_sites_all</locationSetId>
			<timeSeriesType>external historical</timeSeriesType>
			<timeStep id="8am"/>
			<relativeViewPeriod end="0" start="-367" startOverrulable="true" unit="day"/>
			<readWriteMode>read only</readWriteMode>
		</timeSeriesSet>
	</variable>
	<variable>
		<variableId>Q_obs_leveltoflow</variableId>
		<timeSeriesSet>
			<moduleInstanceId>LevelToFlow</moduleInstanceId>
			<valueType>scalar</valueType>
			<parameterId>Q_obs</parameterId>
			<qualifierId>rated</qualifierId>
			<locationSetId>threshold_sites_all</locationSetId>
			<timeSeriesType>external historical</timeSeriesType>
			<timeStep id="8am"/>
			<relativeViewPeriod end="0" start="-367" startOverrulable="true" unit="day"/>
			<readWriteMode>read only</readWriteMode>
		</timeSeriesSet>
	</variable>
	<variable>
		<variableId>Q_calc_leveltoflow</variableId>
		<timeSeriesSet>
			<moduleInstanceId>LevelToFlow</moduleInstanceId>
			<valueType>scalar</valueType>
			<parameterId>Q_calc</parameterId>
			<qualifierId>rated</qualifierId>
			<locationSetId>threshold_sites_all</locationSetId>
			<timeSeriesType>simulated historical</timeSeriesType>
			<timeStep id="8am"/>
			<relativeViewPeriod end="0" start="-367" startOverrulable="true" unit="day"/>
			<readWriteMode>read only</readWriteMode>
		</timeSeriesSet>
	</variable>
	<variable>
		<variableId>QORD_calc</variableId>
		<timeSeriesSet>
			<moduleInstanceId>ImportMDBC_OPS</moduleInstanceId>
			<valueType>scalar</valueType>
			<parameterId>QORD_calc</parameterId>
			<locationSetId>threshold_sites_Q-QORD</locationSetId>
			<timeSeriesType>external historical</timeSeriesType>
			<timeStep id="8am"/>
			<relativeViewPeriod end="0" start="-367" startOverrulable="true" unit="day"/>
			<readWriteMode>read only</readWriteMode>
		</timeSeriesSet>
	</variable>
	<variable>
		<variableId>QORD_calc_mdbc</variableId>
		<timeSeriesSet>
			<moduleInstanceId>ImportMDBC_OPS</moduleInstanceId>
			<valueType>scalar</valueType>
			<parameterId>QORD_calc</parameterId>
			<qualifierId>mdbc</qualifierId>
			<locationSetId>threshold_sites_Q-QORD</locationSetId>
			<timeSeriesType>external historical</timeSeriesType>
			<timeStep id="8am"/>
			<relativeViewPeriod end="0" start="-367" startOverrulable="true" unit="day"/>
			<readWriteMode>read only</readWriteMode>
		</timeSeriesSet>
	</variable>
	<variable>
		<variableId>EC_calc</variableId>
		<timeSeriesSet>
			<moduleInstanceId>ImportMDBC_OPS</moduleInstanceId>
			<valueType>scalar</valueType>
			<parameterId>EC_calc</parameterId>
			<locationSetId>threshold_sites_all</locationSetId>
			<timeSeriesType>external historical</timeSeriesType>
			<timeStep id="8am"/>
			<relativeViewPeriod end="0" start="-367" startOverrulable="true" unit="day"/>
			<readWriteMode>read only</readWriteMode>
		</timeSeriesSet>
	</variable>
	<variable>
		<variableId>DOPCT_calc</variableId>
		<timeSeriesSet>
			<moduleInstanceId>ImportMDBC_OPS</moduleInstanceId>
			<valueType>scalar</valueType>
			<parameterId>DO%_calc</parameterId>
			<locationSetId>threshold_sites_all</locationSetId>
			<timeSeriesType>external historical</timeSeriesType>
			<timeStep id="8am"/>
			<relativeViewPeriod end="0" start="-367" startOverrulable="true" unit="day"/>
			<readWriteMode>read only</readWriteMode>
		</timeSeriesSet>
	</variable>
	<!--Throughput - neq to hourly and daily-->
	<variable>
		<variableId>H_merge_neq</variableId>
		<timeSeriesSet>
			<moduleInstanceId>PreprocessThresholdsMDBC_OPS</moduleInstanceId>
			<valueType>scalar</valueType>
			<parameterId>H_obs</parameterId>
			<locationSetId>threshold_sites_dH_hourly</locationSetId>
			<timeSeriesType>temporary</timeSeriesType>
			<timeStep unit="nonequidistant"/>
			<relativeViewPeriod end="0" start="-367" startOverrulable="true" unit="day"/>
			<readWriteMode>add originals</readWriteMode>
		</timeSeriesSet>
	</variable>
	<variable>
		<variableId>H_merge_hourly</variableId>
		<timeSeriesSet>
			<moduleInstanceId>PreprocessThresholdsMDBC_OPS</moduleInstanceId>
			<valueType>scalar</valueType>
			<parameterId>H_obs</parameterId>
			<locationSetId>threshold_sites_dH_hourly</locationSetId>
			<timeSeriesType>external historical</timeSeriesType>
			<timeStep multiplier="1" unit="hour"/>
			<relativeViewPeriod end="0" start="-367" startOverrulable="true" unit="day"/>
			<readWriteMode>add originals</readWriteMode>
		</timeSeriesSet>
	</variable>
	<variable>
		<variableId>H_merge_hourly_delay1h</variableId>
		<timeSeriesSet>
			<moduleInstanceId>PreprocessThresholdsMDBC_OPS</moduleInstanceId>
			<valueType>scalar</valueType>
			<parameterId>H_obs</parameterId>
			<locationSetId>threshold_sites_dH_hourly</locationSetId>
			<timeSeriesType>external historical</timeSeriesType>
			<timeStep unit="hour"/>
			<relativeViewPeriod end="0" start="-367" startOverrulable="true" unit="day"/>
			<readWriteMode>read only</readWriteMode>
			<delay unit="hour"/>
		</timeSeriesSet>
	</variable>
	<variable>
		<variableId>H_merge_hourly_block</variableId>
		<timeSeriesSet>
			<moduleInstanceId>PreprocessThresholdsMDBC_OPS</moduleInstanceId>
			<valueType>scalar</valueType>
			<parameterId>H_obs</parameterId>
			<qualifierId>block</qualifierId>
			<locationSetId>threshold_sites_dH_hourly</locationSetId>
			<timeSeriesType>external historical</timeSeriesType>
			<timeStep multiplier="1" unit="hour"/>
			<relativeViewPeriod end="0" start="-367" startOverrulable="true" unit="day"/>
			<readWriteMode>add originals</readWriteMode>
		</timeSeriesSet>
	</variable>
	<variable>
		<variableId>H_merge_daily</variableId>
		<timeSeriesSet>
			<moduleInstanceId>PreprocessThresholdsMDBC_OPS</moduleInstanceId>
			<valueType>scalar</valueType>
			<parameterId>H_obs</parameterId>
			<locationSetId>threshold_sites_dH_hourly</locationSetId>
			<timeSeriesType>external historical</timeSeriesType>
			<timeStep id="8am"/>
			<relativeViewPeriod end="0" start="-367" startOverrulable="true" unit="day"/>
			<readWriteMode>add originals</readWriteMode>
		</timeSeriesSet>
	</variable>
	<variable>
		<variableId>Q_merge_delay24h</variableId>
		<timeSeriesSet>
			<moduleInstanceId>PreprocessThresholdsMDBC_OPS</moduleInstanceId>
			<valueType>scalar</valueType>
			<parameterId>Q_calc</parameterId>
			<locationSetId>threshold_sites_all</locationSetId>
			<timeSeriesType>external historical</timeSeriesType>
			<timeStep id="8am"/>
			<relativeViewPeriod end="0" start="-367" startOverrulable="true" unit="day"/>
			<readWriteMode>add originals</readWriteMode>
			<delay unit="day"/>
		</timeSeriesSet>
	</variable>
	<variable>
		<variableId>V_merge_delay24h</variableId>
		<timeSeriesSet>
			<moduleInstanceId>PreprocessThresholdsMDBC_OPS</moduleInstanceId>
			<valueType>scalar</valueType>
			<parameterId>V_calc</parameterId>
			<locationSetId>threshold_sites_all</locationSetId>
			<timeSeriesType>external historical</timeSeriesType>
			<timeStep id="8am"/>
			<relativeViewPeriod end="0" start="-367" startOverrulable="true" unit="day"/>
			<readWriteMode>add originals</readWriteMode>
			<delay unit="day"/>
		</timeSeriesSet>
	</variable>
	<!--Output-->
	<variable>
		<variableId>H_merge_hourly_delay24h</variableId>
		<timeSeriesSet>
			<moduleInstanceId>PreprocessThresholdsMDBC_OPS</moduleInstanceId>
			<valueType>scalar</valueType>
			<parameterId>H_obs</parameterId>
			<locationSetId>threshold_sites_dH_hourly</locationSetId>
			<timeSeriesType>external historical</timeSeriesType>
			<timeStep unit="hour"/>
			<relativeViewPeriod end="0" start="-367" startOverrulable="true" unit="day"/>
			<readWriteMode>add originals</readWriteMode>
			<delay unit="hour" multiplier="23"/>
		</timeSeriesSet>
	</variable>
	<variable>
		<variableId>dH_hourly_24h</variableId>
		<timeSeriesSet>
			<moduleInstanceId>PreprocessThresholdsMDBC_OPS</moduleInstanceId>
			<valueType>scalar</valueType>
			<parameterId>dH</parameterId>
			<qualifierId>delta</qualifierId>
			<qualifierId>24h</qualifierId>
			<locationSetId>threshold_sites_dH_hourly</locationSetId>
			<timeSeriesType>external historical</timeSeriesType>
			<timeStep unit="hour"/>
			<relativeViewPeriod end="0" start="-367" startOverrulable="true" unit="day"/>
			<readWriteMode>add originals</readWriteMode>
		</timeSeriesSet>
	</variable>
	<variable>
		<variableId>V_merge</variableId>
		<timeSeriesSet>
			<moduleInstanceId>PreprocessThresholdsMDBC_OPS</moduleInstanceId>
			<valueType>scalar</valueType>
			<parameterId>V_calc</parameterId>
			<locationSetId>threshold_sites_all</locationSetId>
			<timeSeriesType>external historical</timeSeriesType>
			<timeStep id="8am"/>
			<relativeViewPeriod end="0" start="-367" startOverrulable="true" unit="day"/>
			<readWriteMode>add originals</readWriteMode>
		</timeSeriesSet>
	</variable>
	<variable>
		<variableId>Q_merge</variableId>
		<timeSeriesSet>
			<moduleInstanceId>PreprocessThresholdsMDBC_OPS</moduleInstanceId>
			<valueType>scalar</valueType>
			<parameterId>Q_calc</parameterId>
			<locationSetId>threshold_sites_all</locationSetId>
			<timeSeriesType>external historical</timeSeriesType>
			<timeStep id="8am"/>
			<relativeViewPeriod end="0" start="-367" startOverrulable="true" unit="day"/>
			<readWriteMode>add originals</readWriteMode>
		</timeSeriesSet>
	</variable>
	<variable>
		<variableId>QORD_merge</variableId>
		<timeSeriesSet>
			<moduleInstanceId>PreprocessThresholdsMDBC_OPS</moduleInstanceId>
			<valueType>scalar</valueType>
			<parameterId>QORD_calc</parameterId>
			<locationSetId>threshold_sites_Q-QORD</locationSetId>
			<timeSeriesType>external historical</timeSeriesType>
			<timeStep id="8am"/>
			<relativeViewPeriod end="0" start="-367" startOverrulable="true" unit="day"/>
			<readWriteMode>add originals</readWriteMode>
		</timeSeriesSet>
	</variable>
	<variable>
		<variableId>dH_hourly</variableId>
		<timeSeriesSet>
			<moduleInstanceId>PreprocessThresholdsMDBC_OPS</moduleInstanceId>
			<valueType>scalar</valueType>
			<parameterId>dH</parameterId>
			<qualifierId>delta</qualifierId>
			<locationSetId>threshold_sites_dH_hourly</locationSetId>
			<timeSeriesType>external historical</timeSeriesType>
			<timeStep unit="hour"/>
			<relativeViewPeriod end="0" start="-367" startOverrulable="true" unit="day"/>
			<readWriteMode>add originals</readWriteMode>
		</timeSeriesSet>
	</variable>
	<variable>
		<variableId>dQ</variableId>
		<timeSeriesSet>
			<moduleInstanceId>PreprocessThresholdsMDBC_OPS</moduleInstanceId>
			<valueType>scalar</valueType>
			<parameterId>dQ</parameterId>
			<locationSetId>threshold_sites_all</locationSetId>
			<timeSeriesType>external historical</timeSeriesType>
			<timeStep id="8am"/>
			<relativeViewPeriod end="0" start="-367" startOverrulable="true" unit="day"/>
			<readWriteMode>add originals</readWriteMode>
		</timeSeriesSet>
	</variable>
	<variable>
		<variableId>dV</variableId>
		<timeSeriesSet>
			<moduleInstanceId>PreprocessThresholdsMDBC_OPS</moduleInstanceId>
			<valueType>scalar</valueType>
			<parameterId>dV</parameterId>
			<locationSetId>threshold_sites_all</locationSetId>
			<timeSeriesType>external historical</timeSeriesType>
			<timeStep id="8am"/>
			<relativeViewPeriod end="0" start="-367" startOverrulable="true" unit="day"/>
			<readWriteMode>add originals</readWriteMode>
		</timeSeriesSet>
	</variable>
	<variable>
		<variableId>EC</variableId>
		<timeSeriesSet>
			<moduleInstanceId>PreprocessThresholdsMDBC_OPS</moduleInstanceId>
			<valueType>scalar</valueType>
			<parameterId>EC_calc</parameterId>
			<locationSetId>threshold_sites_all</locationSetId>
			<timeSeriesType>external historical</timeSeriesType>
			<timeStep id="8am"/>
			<relativeViewPeriod end="0" start="-367" startOverrulable="true" unit="day"/>
			<readWriteMode>read only</readWriteMode>
		</timeSeriesSet>
	</variable>
	<variable>
		<variableId>DOPCT</variableId>
		<timeSeriesSet>
			<moduleInstanceId>PreprocessThresholdsMDBC_OPS</moduleInstanceId>
			<valueType>scalar</valueType>
			<parameterId>DO%_calc</parameterId>
			<locationSetId>threshold_sites_all</locationSetId>
			<timeSeriesType>external historical</timeSeriesType>
			<timeStep id="8am"/>
			<relativeViewPeriod end="0" start="-367" startOverrulable="true" unit="day"/>
			<readWriteMode>read only</readWriteMode>
		</timeSeriesSet>
	</variable>
	<!--Input Heywood -->
	<variable>
		<variableId>Heywood_H_merge_hourly</variableId>
		<timeSeriesSet>
			<moduleInstanceId>PreprocessThresholdsMDBC_OPS</moduleInstanceId>
			<valueType>scalar</valueType>
			<parameterId>H_obs</parameterId>
			<locationId>R_409016</locationId>
			<timeSeriesType>external historical</timeSeriesType>
			<timeStep multiplier="1" unit="hour"/>
			<relativeViewPeriod end="0" start="-367" startOverrulable="true" unit="day"/>
			<readWriteMode>read only</readWriteMode>
		</timeSeriesSet>
	</variable>
	<variable>
		<variableId>Heywood_H_merge_hourly_delay1h</variableId>
		<timeSeriesSet>
			<moduleInstanceId>PreprocessThresholdsMDBC_OPS</moduleInstanceId>
			<valueType>scalar</valueType>
			<parameterId>H_obs</parameterId>
			<locationId>R_409016</locationId>
			<timeSeriesType>external historical</timeSeriesType>
			<timeStep unit="hour"/>
			<relativeViewPeriod end="0" start="-367" startOverrulable="true" unit="day"/>
			<readWriteMode>read only</readWriteMode>
			<delay unit="hour"/>
		</timeSeriesSet>
	</variable>
	<variable>
		<variableId>Heywood_H_merge_hourly_block</variableId>
		<timeSeriesSet>
			<moduleInstanceId>PreprocessThresholdsMDBC_OPS</moduleInstanceId>
			<valueType>scalar</valueType>
			<parameterId>H_obs</parameterId>
			<qualifierId>block</qualifierId>
			<locationId>R_409016</locationId>
			<timeSeriesType>external historical</timeSeriesType>
			<timeStep multiplier="1" unit="hour"/>
			<relativeViewPeriod end="0" start="-367" startOverrulable="true" unit="day"/>
			<readWriteMode>read only</readWriteMode>
		</timeSeriesSet>
	</variable>
	<variable>
		<variableId>Heywood_H_merge_hourly_block_delay1h</variableId>
		<timeSeriesSet>
			<moduleInstanceId>PreprocessThresholdsMDBC_OPS</moduleInstanceId>
			<valueType>scalar</valueType>
			<parameterId>H_obs</parameterId>
			<qualifierId>block</qualifierId>
			<locationId>R_409016</locationId>
			<timeSeriesType>external historical</timeSeriesType>
			<timeStep multiplier="1" unit="hour"/>
			<relativeViewPeriod end="0" start="-367" startOverrulable="true" unit="day"/>
			<readWriteMode>read only</readWriteMode>
			<delay unit="hour"/>
		</timeSeriesSet>
	</variable>
	<!--Output Heywood -->
	<variable>
		<variableId>Heywood_H_merge_daily</variableId>
		<timeSeriesSet>
			<moduleInstanceId>PreprocessThresholdsMDBC_OPS</moduleInstanceId>
			<valueType>scalar</valueType>
			<parameterId>H_obs</parameterId>
			<locationId>R_409016</locationId>
			<timeSeriesType>external historical</timeSeriesType>
			<timeStep id="8am"/>
			<relativeViewPeriod end="0" start="-367" startOverrulable="true" unit="day"/>
			<readWriteMode>add originals</readWriteMode>
		</timeSeriesSet>
	</variable>
	<variable>
		<variableId>Heywood_H_merge_daily_1h</variableId>
		<timeSeriesSet>
			<moduleInstanceId>PreprocessThresholdsMDBC_OPS</moduleInstanceId>
			<valueType>scalar</valueType>
			<parameterId>H_obs</parameterId>
			<qualifierId>1h</qualifierId>
			<locationId>R_409016</locationId>
			<timeSeriesType>external historical</timeSeriesType>
			<timeStep multiplier="1" unit="hour"/>
			<relativeViewPeriod end="0" start="-367" startOverrulable="true" unit="day"/>
			<readWriteMode>add originals</readWriteMode>
		</timeSeriesSet>
	</variable>
	<variable>
		<variableId>Heywood_dH_hourly_direction</variableId>
		<timeSeriesSet>
			<moduleInstanceId>PreprocessThresholdsMDBC_OPS</moduleInstanceId>
			<valueType>scalar</valueType>
			<parameterId>dH</parameterId>
			<qualifierId>direction</qualifierId>
			<locationId>R_409016</locationId>
			<timeSeriesType>external historical</timeSeriesType>
			<timeStep unit="hour"/>
			<relativeViewPeriod end="0" start="-367" startOverrulable="true" unit="day"/>
			<readWriteMode>add originals</readWriteMode>
		</timeSeriesSet>
	</variable>
	<variable>
		<variableId>Heywood_dH_hourly_moving_max</variableId>
		<timeSeriesSet>
			<moduleInstanceId>PreprocessThresholdsMDBC_OPS</moduleInstanceId>
			<valueType>scalar</valueType>
			<parameterId>dH</parameterId>
			<qualifierId>moving</qualifierId>
			<qualifierId>max</qualifierId>
			<locationId>R_409016</locationId>
			<timeSeriesType>external historical</timeSeriesType>
			<timeStep unit="hour"/>
			<relativeViewPeriod end="0" start="-367" startOverrulable="true" unit="day"/>
			<readWriteMode>add originals</readWriteMode>
		</timeSeriesSet>
	</variable>
	<variable>
		<variableId>Heywood_dH_hourly_moving_min</variableId>
		<timeSeriesSet>
			<moduleInstanceId>PreprocessThresholdsMDBC_OPS</moduleInstanceId>
			<valueType>scalar</valueType>
			<parameterId>dH</parameterId>
			<qualifierId>moving</qualifierId>
			<qualifierId>min</qualifierId>
			<locationId>R_409016</locationId>
			<timeSeriesType>external historical</timeSeriesType>
			<timeStep unit="hour"/>
			<relativeViewPeriod end="0" start="-367" startOverrulable="true" unit="day"/>
			<readWriteMode>add originals</readWriteMode>
		</timeSeriesSet>
	</variable>
	<variable>
		<variableId>Heywood_dH_hourly_moving_dH_Fall</variableId>
		<timeSeriesSet>
			<moduleInstanceId>PreprocessThresholdsMDBC_OPS</moduleInstanceId>
			<valueType>scalar</valueType>
			<parameterId>dH</parameterId>
			<qualifierId>moving</qualifierId>
			<qualifierId>dH_Fall</qualifierId>
			<locationId>R_409016</locationId>
			<timeSeriesType>external historical</timeSeriesType>
			<timeStep unit="hour"/>
			<relativeViewPeriod end="0" start="-367" startOverrulable="true" unit="day"/>
			<readWriteMode>add originals</readWriteMode>
		</timeSeriesSet>
	</variable>
	<variable>
		<variableId>Heywood_dH_hourly_moving_dH_Fall_min</variableId>
		<timeSeriesSet>
			<moduleInstanceId>PreprocessThresholdsMDBC_OPS</moduleInstanceId>
			<valueType>scalar</valueType>
			<parameterId>dH</parameterId>
			<qualifierId>moving</qualifierId>
			<qualifierId>dH_Fall</qualifierId>
			<qualifierId>min</qualifierId>
			<locationId>R_409016</locationId>
			<timeSeriesType>external historical</timeSeriesType>
			<timeStep unit="hour"/>
			<relativeViewPeriod end="0" start="-367" startOverrulable="true" unit="day"/>
			<readWriteMode>add originals</readWriteMode>
		</timeSeriesSet>
	</variable>
	<variable>
		<variableId>Heywood_dH_Fall_24hmax</variableId>
		<timeSeriesSet>
			<moduleInstanceId>PreprocessThresholdsMDBC_OPS</moduleInstanceId>
			<valueType>scalar</valueType>
			<parameterId>dH</parameterId>
			<qualifierId>24h</qualifierId>
			<qualifierId>dH_Fall</qualifierId>
			<qualifierId>max</qualifierId>
			<locationId>R_409016</locationId>
			<timeSeriesType>external historical</timeSeriesType>
			<timeStep id="8am"/>
			<relativeViewPeriod end="0" start="-367" startOverrulable="true" unit="day"/>
			<readWriteMode>add originals</readWriteMode>
		</timeSeriesSet>
	</variable>
	<!--Input Doctors Point-->
	<variable>
		<variableId>Doctors_H_merge_hourly</variableId>
		<timeSeriesSet>
			<moduleInstanceId>PreprocessThresholdsMDBC_OPS</moduleInstanceId>
			<valueType>scalar</valueType>
			<parameterId>H_obs</parameterId>
			<locationId>R_409017</locationId>
			<timeSeriesType>external historical</timeSeriesType>
			<timeStep multiplier="1" unit="hour"/>
			<relativeViewPeriod end="0" start="-367" startOverrulable="true" unit="day"/>
			<readWriteMode>read only</readWriteMode>
		</timeSeriesSet>
	</variable>
	<variable>
		<variableId>Doctors_H_merge_hourly_delay1h</variableId>
		<timeSeriesSet>
			<moduleInstanceId>PreprocessThresholdsMDBC_OPS</moduleInstanceId>
			<valueType>scalar</valueType>
			<parameterId>H_obs</parameterId>
			<locationId>R_409017</locationId>
			<timeSeriesType>external historical</timeSeriesType>
			<timeStep unit="hour"/>
			<relativeViewPeriod end="0" start="-367" startOverrulable="true" unit="day"/>
			<readWriteMode>read only</readWriteMode>
			<delay unit="hour"/>
		</timeSeriesSet>
	</variable>
	<variable>
		<variableId>Doctors_H_merge_hourly_block</variableId>
		<timeSeriesSet>
			<moduleInstanceId>PreprocessThresholdsMDBC_OPS</moduleInstanceId>
			<valueType>scalar</valueType>
			<parameterId>H_obs</parameterId>
			<qualifierId>block</qualifierId>
			<locationId>R_409017</locationId>
			<timeSeriesType>external historical</timeSeriesType>
			<timeStep multiplier="1" unit="hour"/>
			<relativeViewPeriod end="0" start="-367" startOverrulable="true" unit="day"/>
			<readWriteMode>read only</readWriteMode>
		</timeSeriesSet>
	</variable>
	<variable>
		<variableId>Doctors_H_merge_hourly_block_delay1h</variableId>
		<timeSeriesSet>
			<moduleInstanceId>PreprocessThresholdsMDBC_OPS</moduleInstanceId>
			<valueType>scalar</valueType>
			<parameterId>H_obs</parameterId>
			<qualifierId>block</qualifierId>
			<locationId>R_409017</locationId>
			<timeSeriesType>external historical</timeSeriesType>
			<timeStep multiplier="1" unit="hour"/>
			<relativeViewPeriod end="0" start="-367" startOverrulable="true" unit="day"/>
			<readWriteMode>read only</readWriteMode>
			<delay unit="hour"/>
		</timeSeriesSet>
	</variable>
	<!--Output Doctors Point-->
	<variable>
		<variableId>Doctors_H_merge_daily</variableId>
		<timeSeriesSet>
			<moduleInstanceId>PreprocessThresholdsMDBC_OPS</moduleInstanceId>
			<valueType>scalar</valueType>
			<parameterId>H_obs</parameterId>
			<locationId>R_409017</locationId>
			<timeSeriesType>external historical</timeSeriesType>
			<timeStep id="8am"/>
			<relativeViewPeriod end="0" start="-367" startOverrulable="true" unit="day"/>
			<readWriteMode>add originals</readWriteMode>
		</timeSeriesSet>
	</variable>
	<variable>
		<variableId>Doctors_H_merge_daily_1h</variableId>
		<timeSeriesSet>
			<moduleInstanceId>PreprocessThresholdsMDBC_OPS</moduleInstanceId>
			<valueType>scalar</valueType>
			<parameterId>H_obs</parameterId>
			<qualifierId>1h</qualifierId>
			<locationId>R_409017</locationId>
			<timeSeriesType>external historical</timeSeriesType>
			<timeStep multiplier="1" unit="hour"/>
			<relativeViewPeriod end="0" start="-367" startOverrulable="true" unit="day"/>
			<readWriteMode>add originals</readWriteMode>
		</timeSeriesSet>
	</variable>
	<variable>
		<variableId>Doctors_dH_hourly_direction</variableId>
		<timeSeriesSet>
			<moduleInstanceId>PreprocessThresholdsMDBC_OPS</moduleInstanceId>
			<valueType>scalar</valueType>
			<parameterId>dH</parameterId>
			<qualifierId>direction</qualifierId>
			<locationId>R_409017</locationId>
			<timeSeriesType>external historical</timeSeriesType>
			<timeStep unit="hour"/>
			<relativeViewPeriod end="0" start="-367" startOverrulable="true" unit="day"/>
			<readWriteMode>add originals</readWriteMode>
		</timeSeriesSet>
	</variable>
	<variable>
		<variableId>Doctors_dH_hourly_moving_max</variableId>
		<timeSeriesSet>
			<moduleInstanceId>PreprocessThresholdsMDBC_OPS</moduleInstanceId>
			<valueType>scalar</valueType>
			<parameterId>dH</parameterId>
			<qualifierId>moving</qualifierId>
			<qualifierId>max</qualifierId>
			<locationId>R_409017</locationId>
			<timeSeriesType>external historical</timeSeriesType>
			<timeStep unit="hour"/>
			<relativeViewPeriod end="0" start="-367" startOverrulable="true" unit="day"/>
			<readWriteMode>add originals</readWriteMode>
		</timeSeriesSet>
	</variable>
	<variable>
		<variableId>Doctors_dH_hourly_moving_min</variableId>
		<timeSeriesSet>
			<moduleInstanceId>PreprocessThresholdsMDBC_OPS</moduleInstanceId>
			<valueType>scalar</valueType>
			<parameterId>dH</parameterId>
			<qualifierId>moving</qualifierId>
			<qualifierId>min</qualifierId>
			<locationId>R_409017</locationId>
			<timeSeriesType>external historical</timeSeriesType>
			<timeStep unit="hour"/>
			<relativeViewPeriod end="0" start="-367" startOverrulable="true" unit="day"/>
			<readWriteMode>add originals</readWriteMode>
		</timeSeriesSet>
	</variable>
	<variable>
		<variableId>Doctors_dH_hourly_moving_dH_Fall</variableId>
		<timeSeriesSet>
			<moduleInstanceId>PreprocessThresholdsMDBC_OPS</moduleInstanceId>
			<valueType>scalar</valueType>
			<parameterId>dH</parameterId>
			<qualifierId>moving</qualifierId>
			<qualifierId>dH_Fall</qualifierId>
			<locationId>R_409017</locationId>
			<timeSeriesType>external historical</timeSeriesType>
			<timeStep unit="hour"/>
			<relativeViewPeriod end="0" start="-367" startOverrulable="true" unit="day"/>
			<readWriteMode>add originals</readWriteMode>
		</timeSeriesSet>
	</variable>
	<variable>
		<variableId>Doctors_dH_hourly_moving_dH_Fall_min</variableId>
		<timeSeriesSet>
			<moduleInstanceId>PreprocessThresholdsMDBC_OPS</moduleInstanceId>
			<valueType>scalar</valueType>
			<parameterId>dH</parameterId>
			<qualifierId>moving</qualifierId>
			<qualifierId>dH_Fall</qualifierId>
			<qualifierId>min</qualifierId>
			<locationId>R_409017</locationId>
			<timeSeriesType>external historical</timeSeriesType>
			<timeStep unit="hour"/>
			<relativeViewPeriod end="0" start="-367" startOverrulable="true" unit="day"/>
			<readWriteMode>add originals</readWriteMode>
		</timeSeriesSet>
	</variable>
	<variable>
		<variableId>Doctors_dH_Fall_24hmax</variableId>
		<timeSeriesSet>
			<moduleInstanceId>PreprocessThresholdsMDBC_OPS</moduleInstanceId>
			<valueType>scalar</valueType>
			<parameterId>dH</parameterId>
			<qualifierId>24h</qualifierId>
			<qualifierId>dH_Fall</qualifierId>
			<qualifierId>max</qualifierId>
			<locationId>R_409017</locationId>
			<timeSeriesType>external historical</timeSeriesType>
			<timeStep id="8am"/>
			<relativeViewPeriod end="0" start="-367" startOverrulable="true" unit="day"/>
			<readWriteMode>add originals</readWriteMode>
		</timeSeriesSet>
	</variable>
	<!--################ Transformations #####################-->
	<!--Counted-->
	<transformation id="H_thresh_counted_tmp">
		<user>
			<simple>
				<expression>1</expression>
				<outputVariable>
					<variableId>H_thresh_counted_tmp</variableId>
				</outputVariable>
			</simple>
		</user>
	</transformation>
	<transformation id="H_thresh_counted">
		<merge>
			<simple>
				<inputVariable>
					<variableId>H_thresh_counted</variableId>
				</inputVariable>
				<inputVariable>
					<variableId>H_thresh_counted_tmp</variableId>
				</inputVariable>
				<outputVariable>
					<variableId>H_thresh_counted</variableId>
				</outputVariable>
			</simple>
		</merge>
	</transformation>
	<transformation id="dH_thresh_counted_tmp">
		<user>
			<simple>
				<expression>1</expression>
				<outputVariable>
					<variableId>dH_thresh_counted_tmp</variableId>
				</outputVariable>
			</simple>
		</user>
	</transformation>
	<transformation id="dH_thresh_counted">
		<merge>
			<simple>
				<inputVariable>
					<variableId>dH_thresh_counted</variableId>
				</inputVariable>
				<inputVariable>
					<variableId>dH_thresh_counted_tmp</variableId>
				</inputVariable>
				<outputVariable>
					<variableId>dH_thresh_counted</variableId>
				</outputVariable>
			</simple>
		</merge>
	</transformation>
	<transformation id="dH_6days_thresh_counted_tmp">
		<user>
			<simple>
				<expression>1</expression>
				<outputVariable>
					<variableId>dH_6days_thresh_counted_tmp</variableId>
				</outputVariable>
			</simple>
		</user>
	</transformation>
	<transformation id="dH_6days_thresh_counted">
		<merge>
			<simple>
				<inputVariable>
					<variableId>dH_6days_thresh_counted</variableId>
				</inputVariable>
				<inputVariable>
					<variableId>dH_6days_thresh_counted_tmp</variableId>
				</inputVariable>
				<outputVariable>
					<variableId>dH_6days_thresh_counted</variableId>
				</outputVariable>
			</simple>
		</merge>
	</transformation>
	<transformation id="Q_thresh_counted_tmp">
		<user>
			<simple>
				<expression>1</expression>
				<outputVariable>
					<variableId>Q_thresh_counted_tmp</variableId>
				</outputVariable>
			</simple>
		</user>
	</transformation>
	<transformation id="Q_thresh_counted">
		<merge>
			<simple>
				<inputVariable>
					<variableId>Q_thresh_counted</variableId>
				</inputVariable>
				<inputVariable>
					<variableId>Q_thresh_counted_tmp</variableId>
				</inputVariable>
				<outputVariable>
					<variableId>Q_thresh_counted</variableId>
				</outputVariable>
			</simple>
		</merge>
	</transformation>
	<transformation id="dQ_thresh_counted_tmp">
		<user>
			<simple>
				<expression>1</expression>
				<outputVariable>
					<variableId>dQ_thresh_counted_tmp</variableId>
				</outputVariable>
			</simple>
		</user>
	</transformation>
	<transformation id="dQ_thresh_counted">
		<merge>
			<simple>
				<inputVariable>
					<variableId>dQ_thresh_counted</variableId>
				</inputVariable>
				<inputVariable>
					<variableId>dQ_thresh_counted_tmp</variableId>
				</inputVariable>
				<outputVariable>
					<variableId>dQ_thresh_counted</variableId>
				</outputVariable>
			</simple>
		</merge>
	</transformation>
	<transformation id="V_thresh_counted_tmp">
		<user>
			<simple>
				<expression>1</expression>
				<outputVariable>
					<variableId>V_thresh_counted_tmp</variableId>
				</outputVariable>
			</simple>
		</user>
	</transformation>
	<transformation id="V_thresh_counted">
		<merge>
			<simple>
				<inputVariable>
					<variableId>V_thresh_counted</variableId>
				</inputVariable>
				<inputVariable>
					<variableId>V_thresh_counted_tmp</variableId>
				</inputVariable>
				<outputVariable>
					<variableId>V_thresh_counted</variableId>
				</outputVariable>
			</simple>
		</merge>
	</transformation>
	<transformation id="DO_thresh_counted_tmp">
		<user>
			<simple>
				<expression>1</expression>
				<outputVariable>
					<variableId>DO_thresh_counted_tmp</variableId>
				</outputVariable>
			</simple>
		</user>
	</transformation>
	<transformation id="DO_thresh_counted">
		<merge>
			<simple>
				<inputVariable>
					<variableId>DO_thresh_counted</variableId>
				</inputVariable>
				<inputVariable>
					<variableId>DO_thresh_counted_tmp</variableId>
				</inputVariable>
				<outputVariable>
					<variableId>DO_thresh_counted</variableId>
				</outputVariable>
			</simple>
		</merge>
	</transformation>
	<!--Throughput-->
	<transformation id="H_merge_neq">
		<merge>
			<simple>
				<inputVariable>
					<variableId>H_obs_opt_neq</variableId>
				</inputVariable>
				<inputVariable>
					<variableId>H_obs_opc_neq</variableId>
				</inputVariable>
				<inputVariable>
					<variableId>H_obs_opt2_neq</variableId>
				</inputVariable>
				<outputVariable>
					<variableId>H_merge_neq</variableId>
				</outputVariable>
			</simple>
		</merge>
	</transformation>
	<transformation id="H_merge_hourly">
		<aggregation>
			<instantaneous>
				<inputVariable>
					<variableId>H_merge_neq</variableId>
				</inputVariable>
				<outputVariable>
					<variableId>H_merge_hourly</variableId>
				</outputVariable>
			</instantaneous>
		</aggregation>
	</transformation>
	<transformation id="H_merge_hourly_block">
		<interpolationSerial>
			<block>
				<inputVariable>
					<variableId>H_merge_hourly</variableId>
				</inputVariable>
				<outputVariable>
					<variableId>H_merge_hourly_block</variableId>
				</outputVariable>
			</block>
		</interpolationSerial>
	</transformation>
	<transformation id="H_merge_daily">
		<sample>
			<equidistant>
				<equidistantInputVariable>
					<variableId>H_merge_hourly</variableId>
				</equidistantInputVariable>
				<timeReferenceInputVariable>
					<variableId>H_merge_daily</variableId>
				</timeReferenceInputVariable>
				<interpolationType>closest</interpolationType>
				<outputVariable>
					<variableId>H_merge_daily</variableId>
				</outputVariable>
			</equidistant>
		</sample>
	</transformation>
	<!--Output-->
	<transformation id="dH_hourly">
		<user>
			<simple>
				<expression>H_merge_hourly - H_merge_hourly_delay1h</expression>
				<outputVariable>
					<variableId>dH_hourly</variableId>
				</outputVariable>
			</simple>
		</user>
	</transformation>
	<transformation id="V_merge">
		<merge>
			<simple>
				<inputVariable>
					<variableId>V_calc</variableId>
				</inputVariable>
				<inputVariable>
					<variableId>V_calc_leveltostorage</variableId>
				</inputVariable>
				<inputVariable>
					<variableId>V_obs_leveltostorage</variableId>
				</inputVariable>
				<outputVariable>
					<variableId>V_merge</variableId>
				</outputVariable>
			</simple>
		</merge>
	</transformation>
	<transformation id="Q_merge">
		<merge>
			<simple>
				<inputVariable>
					<variableId>Q_calc</variableId>
				</inputVariable>
				<inputVariable>
					<variableId>Q_calc_leveltoflow</variableId>
				</inputVariable>
				<inputVariable>
					<variableId>Q_obs_leveltoflow</variableId>
				</inputVariable>
				<outputVariable>
					<variableId>Q_merge</variableId>
				</outputVariable>
			</simple>
		</merge>
	</transformation>
	<transformation id="QORD_merge">
		<merge>
			<simple>
				<inputVariable>
					<variableId>QORD_calc</variableId>
				</inputVariable>
				<inputVariable>
					<variableId>QORD_calc_mdbc</variableId>
				</inputVariable>
				<outputVariable>
					<variableId>QORD_merge</variableId>
				</outputVariable>
			</simple>
		</merge>
	</transformation>
	<transformation id="dQ">
		<user>
			<simple>
				<expression>Q_merge - Q_merge_delay24h</expression>
				<outputVariable>
					<variableId>dQ</variableId>
				</outputVariable>
			</simple>
		</user>
	</transformation>
	<transformation id="dV">
		<user>
			<simple>
				<expression>V_merge - V_merge_delay24h</expression>
				<outputVariable>
					<variableId>dV</variableId>
				</outputVariable>
			</simple>
		</user>
	</transformation>
	<transformation id="EC">
		<merge>
			<simple>
				<inputVariable>
					<variableId>EC_calc</variableId>
				</inputVariable>
				<outputVariable>
					<variableId>EC</variableId>
				</outputVariable>
			</simple>
		</merge>
	</transformation>
	<transformation id="DOPCT">
		<merge>
			<simple>
				<inputVariable>
					<variableId>DOPCT_calc</variableId>
				</inputVariable>
				<outputVariable>
					<variableId>DOPCT</variableId>
				</outputVariable>
			</simple>
		</merge>
	</transformation>
	<!--Output - Heywood-->
	<transformation id="Heywood_dH_hourly_direction">
		<user>
			<simple>
				<expression>if(Heywood_H_merge_hourly_block - Heywood_H_merge_hourly_block_delay1h &gt; 0, 1, if(Heywood_H_merge_hourly_block - Heywood_H_merge_hourly_block_delay1h&lt; 0, -1, 0))</expression>
				<outputVariable>
					<variableId>Heywood_dH_hourly_direction</variableId>
				</outputVariable>
			</simple>
		</user>
	</transformation>
	<transformation id="Heywood_dH_hourly_moving_max">
		<user>
			<simple>
				<expression>if(isMissing(Heywood_H_merge_daily_1h), max(PREVIOUS_OUTPUT_VALUE,Heywood_H_merge_hourly_block), Heywood_H_merge_daily_1h)</expression>
				<outputVariable>
					<variableId>Heywood_dH_hourly_moving_max</variableId>
				</outputVariable>
			</simple>
		</user>
	</transformation>
	<transformation id="Heywood_dH_hourly_moving_min">
		<user>
			<simple>
				<expression>if(isMissing(Heywood_H_merge_daily_1h), if(Heywood_dH_hourly_direction &lt;= 0,  min(PREVIOUS_OUTPUT_VALUE,Heywood_H_merge_hourly_block), Heywood_H_merge_hourly_block), Heywood_H_merge_daily_1h)</expression>
				<outputVariable>
					<variableId>Heywood_dH_hourly_moving_min</variableId>
				</outputVariable>
			</simple>
		</user>
	</transformation>
	<transformation id="Heywood_dH_hourly_moving_dH_Fall">
		<user>
			<simple>
				<expression>if(isMissing(Heywood_H_merge_daily_1h), Heywood_dH_hourly_moving_min - Heywood_dH_hourly_moving_max, 0)</expression>
				<outputVariable>
					<variableId>Heywood_dH_hourly_moving_dH_Fall</variableId>
				</outputVariable>
			</simple>
		</user>
	</transformation>
	<transformation id="Heywood_dH_hourly_moving_dH_Fall_min">
		<user>
			<simple>
				<expression>if(isMissing(Heywood_H_merge_daily_1h), min(PREVIOUS_OUTPUT_VALUE, Heywood_dH_hourly_moving_dH_Fall), 0)</expression>
				<outputVariable>
					<variableId>Heywood_dH_hourly_moving_dH_Fall_min</variableId>
				</outputVariable>
			</simple>
		</user>
	</transformation>
	<transformation id="Heywood_dH_Fall_24hmax">
		<statisticsSerial>
			<min>
				<inputVariable>
					<variableId>Heywood_dH_hourly_moving_dH_Fall_min</variableId>
				</inputVariable>
				<outputVariable>
					<variableId>Heywood_dH_Fall_24hmax</variableId>
				</outputVariable>
			</min>
		</statisticsSerial>
	</transformation>
	<!--Output - Doctors point-->
	<transformation id="Doctors_dH_hourly_direction">
		<user>
			<simple>
				<expression>if(Doctors_H_merge_hourly_block - Doctors_H_merge_hourly_block_delay1h &gt; 0, 1, if(Doctors_H_merge_hourly_block - Doctors_H_merge_hourly_block_delay1h &lt; 0, -1, 0))</expression>
				<outputVariable>
					<variableId>Doctors_dH_hourly_direction</variableId>
				</outputVariable>
			</simple>
		</user>
	</transformation>
	<transformation id="Doctors_dH_hourly_moving_max">
		<user>
			<simple>
				<expression>if(isMissing(Doctors_H_merge_daily_1h), max(PREVIOUS_OUTPUT_VALUE,Doctors_H_merge_hourly_block), Doctors_H_merge_daily_1h)</expression>
				<outputVariable>
					<variableId>Doctors_dH_hourly_moving_max</variableId>
				</outputVariable>
			</simple>
		</user>
	</transformation>
	<transformation id="Doctors_dH_hourly_moving_min">
		<user>
			<simple>
				<expression>if(isMissing(Doctors_H_merge_daily_1h), if(Doctors_dH_hourly_direction &lt;= 0,  min(PREVIOUS_OUTPUT_VALUE,Doctors_H_merge_hourly_block), Doctors_H_merge_hourly_block), Doctors_H_merge_daily_1h)</expression>
				<outputVariable>
					<variableId>Doctors_dH_hourly_moving_min</variableId>
				</outputVariable>
			</simple>
		</user>
	</transformation>
	<transformation id="Doctors_dH_hourly_moving_dH_Fall">
		<user>
			<simple>
				<expression>if(isMissing(Doctors_H_merge_daily_1h), Doctors_dH_hourly_moving_min - Doctors_dH_hourly_moving_max, 0)</expression>
				<outputVariable>
					<variableId>Doctors_dH_hourly_moving_dH_Fall</variableId>
				</outputVariable>
			</simple>
		</user>
	</transformation>
	<transformation id="Doctors_dH_hourly_moving_dH_Fall_min">
		<user>
			<simple>
				<expression>if(isMissing(Doctors_H_merge_daily_1h), min(PREVIOUS_OUTPUT_VALUE, Doctors_dH_hourly_moving_dH_Fall), 0)</expression>
				<outputVariable>
					<variableId>Doctors_dH_hourly_moving_dH_Fall_min</variableId>
				</outputVariable>
			</simple>
		</user>
	</transformation>
	<transformation id="Doctors_dH_Fall_24hmax">
		<statisticsSerial>
			<min>
				<inputVariable>
					<variableId>Doctors_dH_hourly_moving_dH_Fall_min</variableId>
				</inputVariable>
				<outputVariable>
					<variableId>Doctors_dH_Fall_24hmax</variableId>
				</outputVariable>
			</min>
		</statisticsSerial>
	</transformation>
</transformationModule>
