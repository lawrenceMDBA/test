<?xml version="1.0" encoding="UTF-8"?>
<transformationModule version="1.0" xmlns="http://www.wldelft.nl/fews" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.wldelft.nl/fews http://fews.wldelft.nl/schemas/version1.0/transformationModule.xsd">
	<!--+ SA trade flow (see PrepareewSourceRO)-->
	<!--+ Inflow: Rain (see Rainfall_1d_Forecast)-->
	<!--+ Inflow: Climate (see PrepareewSourceRO_EVAP)-->
	<!--+ Inflow: Flow -->
	<!-- 	- merge OPO, short term (manual) forecast and long term forecast -->
	<!-- 	> Trend Flow Forcast (manual)-->
	<!-- 	- Rise to trend target,vaintain for forecast length-->
	<!-- 	> Pulse Flow Forcast (manual)-->
	<!-- 	- Flow until peak: Flow(n+1) = (Pulse rising flow) – Flow(n)) * (1 – Pulse rising rate) + Flow(n)-->
	<!-- 	- Flow at peak: Flow(peak) = Pulse peak flow-->
	<!-- 	- Flow after peak: Flow(n+1) = (Pulse recession flow) – Flow(n)) * (1 - Pulse recession rate)) + Flow(n)-->
	<!-- 	- Flow recession to base flow: Flow(n+1) = (Recession to base flow) – Flow(n)) * (1 - Recession to base rate)) + Flow(n)-->
	<!-- 	> Yearly average (Q_plan, statistics)-->
	<!-- 	- look up monthly value-->
	<!-- 	- timeshift foreward by 1 month to prepare for disaggregate -->
	<!-- 	- disaggregate to daily 8am (goes backwards, so foreward timeshifted value is spread out over previous month-->
	<!-- 	> merge all series with user selected short term forecast-->
	<!--+ Water user demand: Q_plan (see PrepareewSourceRO_QORD)-->
	<!--+ Environmental Flow Orders (not included at this stage)-->
	<!--+ Unaccounted differences (see ImportFromEWSourceRO)-->
	<!--========================================================================================-->
	<!--Dummy Subatchments to make modifier display work for subcatchment attributes-->
	<variable>
		<variableId>Dummy_Subcatchment</variableId>
		<timeSeriesSet>
			<moduleInstanceId>Process_Access_Forecast</moduleInstanceId>
			<valueType>scalar</valueType>
			<parameterId>P_fcst</parameterId>
			<locationSetId>ewSourceRO_subcatchments</locationSetId>
			<timeSeriesType>external forecasting</timeSeriesType>
			<timeStep id="8am"/>
			<readWriteMode>read complete forecast</readWriteMode>
		</timeSeriesSet>
	</variable>
	<!--========= Q fcst ========= -->
	<!--Q fcst: manual shortterm forecast-->
	<variable>
		<variableId>Gauges_Qobs_extend</variableId>
		<timeSeriesSet>
			<moduleInstanceId>PrepareewSourceRO_Qcomb</moduleInstanceId>
			<valueType>scalar</valueType>
			<parameterId>Q_obs</parameterId>
			<qualifierId>opo</qualifierId>
			<locationSetId>SourceRO_sites_Q</locationSetId>
			<timeSeriesType>temporary</timeSeriesType>
			<timeStep id="8am"/>
			<relativeViewPeriod start="-400" end="0" unit="day" startOverrulable="true"/>
			<readWriteMode>add originals</readWriteMode>
		</timeSeriesSet>
	</variable>
	<variable>
		<variableId>Trend_Qfcst_initial</variableId>
		<timeSeriesSet>
			<moduleInstanceId>PrepareewSourceRO_Qcomb</moduleInstanceId>
			<valueType>scalar</valueType>
			<parameterId>Q_fcst</parameterId>
			<qualifierId>trend</qualifierId>
			<locationSetId>SourceRO_sites_Q</locationSetId>
			<timeSeriesType>simulated forecasting</timeSeriesType>
			<timeStep id="8am"/>
			<relativeViewPeriod start="-1" end="1" unit="day" startOverrulable="true"/>
			<readWriteMode>add originals</readWriteMode>
		</timeSeriesSet>
	</variable>
	<variable>
		<variableId>Trend_Qfcst</variableId>
		<timeSeriesSet>
			<moduleInstanceId>PrepareewSourceRO_Qcomb</moduleInstanceId>
			<valueType>scalar</valueType>
			<parameterId>Q_fcst</parameterId>
			<qualifierId>trend</qualifierId>
			<locationSetId>SourceRO_sites_Q</locationSetId>
			<timeSeriesType>simulated forecasting</timeSeriesType>
			<timeStep id="8am"/>
			<relativeViewPeriod start="1" end="730" unit="day" startOverrulable="true"/>
			<readWriteMode>add originals</readWriteMode>
		</timeSeriesSet>
	</variable>
	<variable>
		<variableId>Gamma_serial_initial</variableId>
		<timeSeriesSet>
			<moduleInstanceId>PrepareewSourceRO_Qcomb</moduleInstanceId>
			<valueType>scalar</valueType>
			<parameterId>Gamma</parameterId>
			<qualifierId>initial</qualifierId>
			<locationSetId>SourceRO_sites_Q</locationSetId>
			<timeSeriesType>simulated forecasting</timeSeriesType>
			<timeStep id="8am"/>
			<relativeViewPeriod start="0" end="0" unit="day" startOverrulable="true"/>
			<readWriteMode>add originals</readWriteMode>
		</timeSeriesSet>
	</variable>
	<variable>
		<variableId>Gamma_serial_initial_ext</variableId>
		<timeSeriesSet>
			<moduleInstanceId>PrepareewSourceRO_Qcomb</moduleInstanceId>
			<valueType>scalar</valueType>
			<parameterId>Gamma</parameterId>
			<qualifierId>initial</qualifierId>
			<locationSetId>SourceRO_sites_Q</locationSetId>
			<timeSeriesType>simulated forecasting</timeSeriesType>
			<timeStep id="8am"/>
			<relativeViewPeriod start="1" end="730" unit="day" startOverrulable="true"/>
			<readWriteMode>add originals</readWriteMode>
		</timeSeriesSet>
	</variable>
	<variable>
		<variableId>Gamma_serial_initial_complete</variableId>
		<timeSeriesSet>
			<moduleInstanceId>PrepareewSourceRO_Qcomb</moduleInstanceId>
			<valueType>scalar</valueType>
			<parameterId>Gamma</parameterId>
			<qualifierId>initial</qualifierId>
			<locationSetId>SourceRO_sites_Q</locationSetId>
			<timeSeriesType>simulated forecasting</timeSeriesType>
			<timeStep id="8am"/>
			<relativeViewPeriod start="0" end="730" unit="day" startOverrulable="true"/>
			<readWriteMode>add originals</readWriteMode>
		</timeSeriesSet>
	</variable>
	<variable>
		<variableId>Gamma_serial_initial_h</variableId>
		<timeSeriesSet>
			<moduleInstanceId>PrepareewSourceRO_Qcomb</moduleInstanceId>
			<valueType>scalar</valueType>
			<parameterId>Gamma</parameterId>
			<qualifierId>initial</qualifierId>
			<locationSetId>SourceRO_sites_Q</locationSetId>
			<timeSeriesType>simulated forecasting</timeSeriesType>
			<timeStep unit="hour" multiplier="1"/>
			<relativeViewPeriod start="0" end="0" unit="hour" startOverrulable="true"/>
			<readWriteMode>add originals</readWriteMode>
		</timeSeriesSet>
	</variable>
	<variable>
		<variableId>Gamma_serial_initial_ext_h</variableId>
		<timeSeriesSet>
			<moduleInstanceId>PrepareewSourceRO_Qcomb</moduleInstanceId>
			<valueType>scalar</valueType>
			<parameterId>Gamma</parameterId>
			<qualifierId>initial</qualifierId>
			<locationSetId>SourceRO_sites_Q</locationSetId>
			<timeSeriesType>simulated forecasting</timeSeriesType>
			<timeStep unit="hour" multiplier="1"/>
			<relativeViewPeriod start="1" end="17520" unit="hour" startOverrulable="true"/>
			<readWriteMode>add originals</readWriteMode>
		</timeSeriesSet>
	</variable>
	<variable>
		<variableId>Gamma_serial_initial_complete_h</variableId>
		<timeSeriesSet>
			<moduleInstanceId>PrepareewSourceRO_Qcomb</moduleInstanceId>
			<valueType>scalar</valueType>
			<parameterId>Gamma</parameterId>
			<qualifierId>initial</qualifierId>
			<locationSetId>SourceRO_sites_Q</locationSetId>
			<timeSeriesType>simulated forecasting</timeSeriesType>
			<timeStep unit="hour" multiplier="1"/>
			<relativeViewPeriod start="0" end="17520" unit="hour" startOverrulable="true"/>
			<readWriteMode>add originals</readWriteMode>
		</timeSeriesSet>
	</variable>
	<variable>
		<variableId>Gamma_Qfcst_z</variableId>
		<timeSeriesSet>
			<moduleInstanceId>PrepareewSourceRO_Qcomb</moduleInstanceId>
			<valueType>scalar</valueType>
			<parameterId>Gamma</parameterId>
			<qualifierId>z</qualifierId>
			<locationSetId>SourceRO_sites_Q</locationSetId>
			<timeSeriesType>simulated forecasting</timeSeriesType>
			<timeStep id="8am"/>
			<relativeViewPeriod start="0" end="730" unit="day" startOverrulable="true"/>
			<readWriteMode>add originals</readWriteMode>
		</timeSeriesSet>
	</variable>
	<variable>
		<variableId>Gamma_Qfcst_z_h</variableId>
		<timeSeriesSet>
			<moduleInstanceId>PrepareewSourceRO_Qcomb</moduleInstanceId>
			<valueType>scalar</valueType>
			<parameterId>Gamma</parameterId>
			<qualifierId>z</qualifierId>
			<locationSetId>SourceRO_sites_Q</locationSetId>
			<timeSeriesType>simulated forecasting</timeSeriesType>
			<timeStep unit="hour" multiplier="1"/>
			<relativeViewPeriod start="0" end="17520" unit="hour" startOverrulable="true"/>
			<readWriteMode>add originals</readWriteMode>
		</timeSeriesSet>
	</variable>
	<variable>
		<variableId>Gamma_Qfcst_rise_initial_default</variableId>
		<timeSeriesSet>
			<moduleInstanceId>PrepareewSourceRO_Qcomb</moduleInstanceId>
			<valueType>scalar</valueType>
			<parameterId>Q_fcst</parameterId>
			<qualifierId>Gamma</qualifierId>
			<qualifierId>rise</qualifierId>
			<qualifierId>tmp</qualifierId>
			<locationSetId>SourceRO_sites_Q</locationSetId>
			<timeSeriesType>simulated forecasting</timeSeriesType>
			<timeStep id="8am"/>
			<relativeViewPeriod start="-1" end="0" unit="day" startOverrulable="true"/>
			<readWriteMode>add originals</readWriteMode>
		</timeSeriesSet>
	</variable>
	<variable>
		<variableId>Gamma_Qfcst_rise_initial</variableId>
		<timeSeriesSet>
			<moduleInstanceId>PrepareewSourceRO_Qcomb</moduleInstanceId>
			<valueType>scalar</valueType>
			<parameterId>Q_fcst</parameterId>
			<qualifierId>Gamma</qualifierId>
			<qualifierId>rise</qualifierId>
			<locationSetId>SourceRO_sites_Q</locationSetId>
			<timeSeriesType>simulated forecasting</timeSeriesType>
			<timeStep id="8am"/>
			<relativeViewPeriod start="-1" end="0" unit="day" startOverrulable="true"/>
			<readWriteMode>add originals</readWriteMode>
		</timeSeriesSet>
	</variable>
	<variable>
		<variableId>Gamma_Qfcst_rise_initial_ext</variableId>
		<timeSeriesSet>
			<moduleInstanceId>PrepareewSourceRO_Qcomb</moduleInstanceId>
			<valueType>scalar</valueType>
			<parameterId>Q_fcst</parameterId>
			<qualifierId>Gamma</qualifierId>
			<qualifierId>rise</qualifierId>
			<locationSetId>SourceRO_sites_Q</locationSetId>
			<timeSeriesType>simulated forecasting</timeSeriesType>
			<timeStep id="8am"/>
			<relativeViewPeriod start="1" end="730" unit="day" startOverrulable="true"/>
			<readWriteMode>add originals</readWriteMode>
		</timeSeriesSet>
	</variable>
	<variable>
		<variableId>Gamma_Qfcst_rise_initial_complete</variableId>
		<timeSeriesSet>
			<moduleInstanceId>PrepareewSourceRO_Qcomb</moduleInstanceId>
			<valueType>scalar</valueType>
			<parameterId>Q_fcst</parameterId>
			<qualifierId>Gamma</qualifierId>
			<qualifierId>rise</qualifierId>
			<locationSetId>SourceRO_sites_Q</locationSetId>
			<timeSeriesType>simulated forecasting</timeSeriesType>
			<timeStep id="8am"/>
			<relativeViewPeriod start="0" end="730" unit="day" startOverrulable="true"/>
			<readWriteMode>add originals</readWriteMode>
		</timeSeriesSet>
	</variable>
	<variable>
		<variableId>Gamma_Qfcst_rise_initial_h</variableId>
		<timeSeriesSet>
			<moduleInstanceId>PrepareewSourceRO_Qcomb</moduleInstanceId>
			<valueType>scalar</valueType>
			<parameterId>Q_fcst</parameterId>
			<qualifierId>Gamma</qualifierId>
			<qualifierId>rise</qualifierId>
			<locationSetId>SourceRO_sites_Q</locationSetId>
			<timeSeriesType>simulated forecasting</timeSeriesType>
			<timeStep unit="hour" multiplier="1"/>
			<relativeViewPeriod start="-1" end="1" unit="hour" startOverrulable="true"/>
			<readWriteMode>add originals</readWriteMode>
		</timeSeriesSet>
	</variable>
	<variable>
		<variableId>Gamma_Qfcst_rise_initial_ext_h</variableId>
		<timeSeriesSet>
			<moduleInstanceId>PrepareewSourceRO_Qcomb</moduleInstanceId>
			<valueType>scalar</valueType>
			<parameterId>Q_fcst</parameterId>
			<qualifierId>Gamma</qualifierId>
			<qualifierId>rise</qualifierId>
			<locationSetId>SourceRO_sites_Q</locationSetId>
			<timeSeriesType>simulated forecasting</timeSeriesType>
			<timeStep unit="hour" multiplier="1"/>
			<relativeViewPeriod start="1" end="17520" unit="hour" startOverrulable="true"/>
			<readWriteMode>add originals</readWriteMode>
		</timeSeriesSet>
	</variable>
	<variable>
		<variableId>Gamma_Qfcst_rise_initial_complete_h</variableId>
		<timeSeriesSet>
			<moduleInstanceId>PrepareewSourceRO_Qcomb</moduleInstanceId>
			<valueType>scalar</valueType>
			<parameterId>Q_fcst</parameterId>
			<qualifierId>Gamma</qualifierId>
			<qualifierId>rise</qualifierId>
			<locationSetId>SourceRO_sites_Q</locationSetId>
			<timeSeriesType>simulated forecasting</timeSeriesType>
			<timeStep unit="hour" multiplier="1"/>
			<relativeViewPeriod start="0" end="17520" unit="hour" startOverrulable="true"/>
			<readWriteMode>add originals</readWriteMode>
		</timeSeriesSet>
	</variable>
	<variable>
		<variableId>phi_alpha</variableId>
		<timeSeriesSet>
			<moduleInstanceId>PrepareewSourceRO_Qcomb</moduleInstanceId>
			<valueType>scalar</valueType>
			<parameterId>Gamma</parameterId>
			<qualifierId>phi_alpha</qualifierId>
			<locationSetId>SourceRO_sites_Q</locationSetId>
			<timeSeriesType>simulated forecasting</timeSeriesType>
			<timeStep id="8am"/>
			<relativeViewPeriod start="0" end="730" unit="day" startOverrulable="true"/>
			<readWriteMode>add originals</readWriteMode>
		</timeSeriesSet>
	</variable>
	<variable>
		<variableId>alpha</variableId>
		<timeSeriesSet>
			<moduleInstanceId>PrepareewSourceRO_Qcomb</moduleInstanceId>
			<valueType>scalar</valueType>
			<parameterId>Gamma</parameterId>
			<qualifierId>alpha</qualifierId>
			<locationSetId>SourceRO_sites_Q</locationSetId>
			<timeSeriesType>simulated forecasting</timeSeriesType>
			<timeStep id="8am"/>
			<relativeViewPeriod start="0" end="730" unit="day" startOverrulable="true"/>
			<readWriteMode>add originals</readWriteMode>
		</timeSeriesSet>
	</variable>
	<variable>
		<variableId>phi_alpha_h</variableId>
		<timeSeriesSet>
			<moduleInstanceId>PrepareewSourceRO_Qcomb</moduleInstanceId>
			<valueType>scalar</valueType>
			<parameterId>Gamma</parameterId>
			<qualifierId>phi_alpha</qualifierId>
			<locationSetId>SourceRO_sites_Q</locationSetId>
			<timeSeriesType>simulated forecasting</timeSeriesType>
			<timeStep unit="hour" multiplier="1"/>
			<relativeViewPeriod start="0" end="17520" unit="hour" startOverrulable="true"/>
			<readWriteMode>add originals</readWriteMode>
		</timeSeriesSet>
	</variable>
	<variable>
		<variableId>alpha_h</variableId>
		<timeSeriesSet>
			<moduleInstanceId>PrepareewSourceRO_Qcomb</moduleInstanceId>
			<valueType>scalar</valueType>
			<parameterId>Gamma</parameterId>
			<qualifierId>alpha</qualifierId>
			<locationSetId>SourceRO_sites_Q</locationSetId>
			<timeSeriesType>simulated forecasting</timeSeriesType>
			<timeStep unit="hour" multiplier="1"/>
			<relativeViewPeriod start="0" end="17520" unit="hour" startOverrulable="true"/>
			<readWriteMode>add originals</readWriteMode>
		</timeSeriesSet>
	</variable>
	<variable>
		<variableId>Gamma_Qfcst</variableId>
		<timeSeriesSet>
			<moduleInstanceId>PrepareewSourceRO_Qcomb</moduleInstanceId>
			<valueType>scalar</valueType>
			<parameterId>Q_fcst</parameterId>
			<qualifierId>Gamma</qualifierId>
			<locationSetId>SourceRO_sites_Q</locationSetId>
			<timeSeriesType>simulated forecasting</timeSeriesType>
			<timeStep id="8am"/>
			<relativeViewPeriod start="0" end="730" unit="day" startOverrulable="true"/>
			<readWriteMode>add originals</readWriteMode>
		</timeSeriesSet>
	</variable>
	<variable>
		<variableId>Gamma_Qfcst_h</variableId>
		<timeSeriesSet>
			<moduleInstanceId>PrepareewSourceRO_Qcomb</moduleInstanceId>
			<valueType>scalar</valueType>
			<parameterId>Q_fcst</parameterId>
			<qualifierId>Gamma</qualifierId>
			<locationSetId>SourceRO_sites_Q</locationSetId>
			<timeSeriesType>simulated forecasting</timeSeriesType>
			<timeStep unit="hour" multiplier="1"/>
			<relativeViewPeriod start="0" end="17520" unit="hour" startOverrulable="true"/>
			<readWriteMode>add originals</readWriteMode>
		</timeSeriesSet>
	</variable>
	<variable>
		<variableId>Pulse_Qfcst_rise_initial</variableId>
		<timeSeriesSet>
			<moduleInstanceId>PrepareewSourceRO_Qcomb</moduleInstanceId>
			<valueType>scalar</valueType>
			<parameterId>Q_fcst</parameterId>
			<qualifierId>pulse</qualifierId>
			<qualifierId>rise</qualifierId>
			<locationSetId>SourceRO_sites_Q</locationSetId>
			<timeSeriesType>simulated forecasting</timeSeriesType>
			<timeStep id="8am"/>
			<relativeViewPeriod start="-1" end="1" unit="day" startOverrulable="true"/>
			<readWriteMode>add originals</readWriteMode>
		</timeSeriesSet>
	</variable>
	<variable>
		<variableId>Pulse_Qfcst_rise</variableId>
		<timeSeriesSet>
			<moduleInstanceId>PrepareewSourceRO_Qcomb</moduleInstanceId>
			<valueType>scalar</valueType>
			<parameterId>Q_fcst</parameterId>
			<qualifierId>pulse</qualifierId>
			<qualifierId>rise</qualifierId>
			<locationSetId>SourceRO_sites_Q</locationSetId>
			<timeSeriesType>simulated forecasting</timeSeriesType>
			<timeStep id="8am"/>
			<relativeViewPeriod start="1" end="730" unit="day" startOverrulable="true"/>
			<readWriteMode>add originals</readWriteMode>
		</timeSeriesSet>
	</variable>
	<variable>
		<variableId>Pulse_Qfcst_peak</variableId>
		<timeSeriesSet>
			<moduleInstanceId>PrepareewSourceRO_Qcomb</moduleInstanceId>
			<valueType>scalar</valueType>
			<parameterId>Q_fcst</parameterId>
			<qualifierId>pulse</qualifierId>
			<qualifierId>peak</qualifierId>
			<locationSetId>SourceRO_sites_Q</locationSetId>
			<timeSeriesType>simulated forecasting</timeSeriesType>
			<timeStep id="8am"/>
			<relativeViewPeriod start="1" end="730" unit="day" startOverrulable="true" endOverrulable="true"/>
			<readWriteMode>add originals</readWriteMode>
		</timeSeriesSet>
	</variable>
	<variable>
		<variableId>Pulse_Qfcst_recede_initial</variableId>
		<timeSeriesSet>
			<moduleInstanceId>PrepareewSourceRO_Qcomb</moduleInstanceId>
			<valueType>scalar</valueType>
			<parameterId>Q_fcst</parameterId>
			<qualifierId>pulse</qualifierId>
			<qualifierId>recede</qualifierId>
			<qualifierId>tmp</qualifierId>
			<locationSetId>SourceRO_sites_Q</locationSetId>
			<timeSeriesType>simulated forecasting</timeSeriesType>
			<timeStep id="8am"/>
			<relativeViewPeriod start="-1" end="1" unit="day" startOverrulable="true"/>
			<readWriteMode>add originals</readWriteMode>
		</timeSeriesSet>
	</variable>
	<variable>
		<variableId>Pulse_Qfcst_recede_fromT0</variableId>
		<timeSeriesSet>
			<moduleInstanceId>PrepareewSourceRO_Qcomb</moduleInstanceId>
			<valueType>scalar</valueType>
			<parameterId>Q_fcst</parameterId>
			<qualifierId>pulse</qualifierId>
			<qualifierId>recede</qualifierId>
			<qualifierId>tmp</qualifierId>
			<locationSetId>SourceRO_sites_Q</locationSetId>
			<timeSeriesType>simulated forecasting</timeSeriesType>
			<timeStep id="8am"/>
			<relativeViewPeriod start="1" end="730" unit="day" startOverrulable="true"/>
			<readWriteMode>add originals</readWriteMode>
		</timeSeriesSet>
	</variable>
	<variable>
		<variableId>Pulse_Qfcst_recede_shift</variableId>
		<timeSeriesSet>
			<moduleInstanceId>PrepareewSourceRO_Qcomb</moduleInstanceId>
			<valueType>scalar</valueType>
			<parameterId>Q_fcst</parameterId>
			<qualifierId>pulse</qualifierId>
			<qualifierId>recede</qualifierId>
			<qualifierId>shift</qualifierId>
			<locationSetId>SourceRO_sites_Q</locationSetId>
			<timeSeriesType>simulated forecasting</timeSeriesType>
			<timeStep id="8am"/>
			<relativeViewPeriod start="1" end="730" unit="day" startOverrulable="true"/>
			<readWriteMode>add originals</readWriteMode>
		</timeSeriesSet>
	</variable>
	<variable>
		<variableId>Pulse_Qfcst_recede</variableId>
		<timeSeriesSet>
			<moduleInstanceId>PrepareewSourceRO_Qcomb</moduleInstanceId>
			<valueType>scalar</valueType>
			<parameterId>Q_fcst</parameterId>
			<qualifierId>pulse</qualifierId>
			<qualifierId>recede</qualifierId>
			<locationSetId>SourceRO_sites_Q</locationSetId>
			<timeSeriesType>simulated forecasting</timeSeriesType>
			<timeStep id="8am"/>
			<relativeViewPeriod start="1" end="730" unit="day" startOverrulable="true"/>
			<readWriteMode>add originals</readWriteMode>
		</timeSeriesSet>
	</variable>
	<variable>
		<variableId>Pulse_Qfcst</variableId>
		<timeSeriesSet>
			<moduleInstanceId>PrepareewSourceRO_Qcomb</moduleInstanceId>
			<valueType>scalar</valueType>
			<parameterId>Q_fcst</parameterId>
			<qualifierId>pulse</qualifierId>
			<locationSetId>SourceRO_sites_Q</locationSetId>
			<timeSeriesType>simulated forecasting</timeSeriesType>
			<timeStep id="8am"/>
			<relativeViewPeriod start="-1" end="730" unit="day" startOverrulable="true"/>
			<readWriteMode>add originals</readWriteMode>
		</timeSeriesSet>
	</variable>
	<!--Q fcst: other input series (fcst and obs)-->
	<variable>
		<variableId>Gauges_Qobs</variableId>
		<timeSeriesSet>
			<moduleInstanceId>ProcessQopo</moduleInstanceId>
			<valueType>scalar</valueType>
			<parameterId>Q_obs</parameterId>
			<qualifierId>opo</qualifierId>
			<locationSetId>SourceRO_sites_Q</locationSetId>
			<timeSeriesType>external historical</timeSeriesType>
			<timeStep id="8am"/>
			<relativeViewPeriod start="-400" end="1" unit="day" startOverrulable="true"/>
			<readWriteMode>read only</readWriteMode>
		</timeSeriesSet>
	</variable>
	<variable>
		<variableId>SDF_hourly</variableId>
		<timeSeriesSet>
			<moduleInstanceId>ImportForecastSDF</moduleInstanceId>
			<valueType>scalar</valueType>
			<parameterId>Q_fcst</parameterId>
			<qualifierId>sdf</qualifierId>
			<locationSetId>SourceRO_sites_Q</locationSetId>
			<timeSeriesType>external forecasting</timeSeriesType>
			<timeStep unit="hour"/>
			<readWriteMode>read complete forecast</readWriteMode>
			<ensembleId>SWIFT</ensembleId>
			<ensembleMemberIndex>0</ensembleMemberIndex>
		</timeSeriesSet>
	</variable>
	<variable>
		<variableId>STF_hourly</variableId>
		<timeSeriesSet>
			<moduleInstanceId>ImportForecastSTF</moduleInstanceId>
			<valueType>scalar</valueType>
			<parameterId>Q_fcst</parameterId>
			<locationSetId>SourceRO_sites_Q</locationSetId>
			<timeSeriesType>external forecasting</timeSeriesType>
			<timeStep unit="hour"/>
			<readWriteMode>read complete forecast</readWriteMode>
		</timeSeriesSet>
	</variable>
	<variable>
		<variableId>URBS_hourly</variableId>
		<timeSeriesSet>
			<moduleInstanceId>$CATCHMENT$_$SUBCATCHMENT$_URBS_Forecast</moduleInstanceId>
			<valueType>scalar</valueType>
			<parameterId>Q_fcst</parameterId>
			<locationSetId>SourceRO_sites_Q</locationSetId>
			<timeSeriesType>simulated forecasting</timeSeriesType>
			<timeStep unit="hour"/>
			<readWriteMode>read complete forecast</readWriteMode>
		</timeSeriesSet>
	</variable>
	<variable>
		<variableId>Source_Qfcst</variableId>
		<timeSeriesSet>
			<moduleInstanceId>ImportFromEWSourceRO</moduleInstanceId>
			<valueType>scalar</valueType>
			<parameterId>Q_fcst</parameterId>
			<qualifierId>default</qualifierId>
			<locationSetId>SourceRO_sites_Q</locationSetId>
			<timeSeriesType>simulated forecasting</timeSeriesType>
			<timeStep id="8am"/>
			<readWriteMode>read complete forecast</readWriteMode>
		</timeSeriesSet>
	</variable>
	<variable>
		<variableId>MDBC_Qfcst</variableId>
		<timeSeriesSet>
			<moduleInstanceId>ImportMDBC_OPS</moduleInstanceId>
			<valueType>scalar</valueType>
			<parameterId>Q_fcst</parameterId>
			<!-- <locationSetId>HYDRO_fcst_sites_Q</locationSetId> -->
			<locationSetId>SourceRO_sites_Q</locationSetId>
			<timeSeriesType>external forecasting</timeSeriesType>
			<timeStep id="8am"/>
			<readWriteMode>read complete forecast</readWriteMode>
		</timeSeriesSet>
	</variable>
	<variable>
		<variableId>Shortterm_Qfcst</variableId>
		<timeSeriesSet>
			<moduleInstanceId>PrepareewSourceRO_Qcomb</moduleInstanceId>
			<valueType>scalar</valueType>
			<parameterId>Q_fcst</parameterId>
			<locationSetId>SourceRO_sites_Q</locationSetId>
			<timeSeriesType>simulated forecasting</timeSeriesType>
			<timeStep id="8am"/>
			<relativeViewPeriod start="-400" end="730" unit="day" startOverrulable="true" endOverrulable="true"/>
			<readWriteMode>add originals</readWriteMode>
		</timeSeriesSet>
	</variable>
	<!--Q fcst: other input series (temporary series)-->
	<variable>
		<variableId>SDF_Qfcst</variableId>
		<timeSeriesSet>
			<moduleInstanceId>PrepareewSourceRO_Qcomb</moduleInstanceId>
			<valueType>scalar</valueType>
			<parameterId>Q_fcst</parameterId>
			<qualifierId>sdf</qualifierId>
			<locationSetId>SourceRO_sites_Q</locationSetId>
			<timeSeriesType>temporary</timeSeriesType>
			<timeStep id="8am"/>
			<readWriteMode>read complete forecast</readWriteMode>
		</timeSeriesSet>
	</variable>
	<variable>
		<variableId>STF_Qfcst</variableId>
		<timeSeriesSet>
			<moduleInstanceId>PrepareewSourceRO_Qcomb</moduleInstanceId>
			<valueType>scalar</valueType>
			<parameterId>Q_fcst</parameterId>
			<qualifierId>stf</qualifierId>
			<locationSetId>SourceRO_sites_Q</locationSetId>
			<timeSeriesType>temporary</timeSeriesType>
			<timeStep id="8am"/>
			<readWriteMode>read complete forecast</readWriteMode>
		</timeSeriesSet>
	</variable>
	<variable>
		<variableId>URBS_Qfcst</variableId>
		<timeSeriesSet>
			<moduleInstanceId>PrepareewSourceRO_Qcomb</moduleInstanceId>
			<valueType>scalar</valueType>
			<parameterId>Q_fcst</parameterId>
			<qualifierId>urbs</qualifierId>
			<locationSetId>SourceRO_sites_Q</locationSetId>
			<timeSeriesType>temporary</timeSeriesType>
			<timeStep id="8am"/>
			<readWriteMode>read complete forecast</readWriteMode>
		</timeSeriesSet>
	</variable>
	<!--Q fcst: Qplan Hydro and statistics-->
	<variable>
		<variableId>Qplan_hydro_min</variableId>
		<timeSeriesSet>
			<moduleInstanceId>ProcessPlanningHydro</moduleInstanceId>
			<valueType>scalar</valueType>
			<parameterId>Q_plan</parameterId>
			<qualifierId>min</qualifierId>
			<locationSetId>SourceRO_sites_Q</locationSetId>
			<timeSeriesType>external forecasting</timeSeriesType>
			<timeStep id="8am"/>
			<relativeViewPeriod start="0" end="730" unit="day" startOverrulable="true"/>
			<readWriteMode>read only</readWriteMode>
		</timeSeriesSet>
	</variable>
	<variable>
		<variableId>Qplan_hydro_aep90</variableId>
		<timeSeriesSet>
			<moduleInstanceId>ProcessPlanningHydro</moduleInstanceId>
			<valueType>scalar</valueType>
			<parameterId>Q_plan</parameterId>
			<qualifierId>aep90</qualifierId>
			<locationSetId>SourceRO_sites_Q</locationSetId>
			<timeSeriesType>external forecasting</timeSeriesType>
			<timeStep id="8am"/>
			<relativeViewPeriod start="0" end="730" unit="day" startOverrulable="true"/>
			<readWriteMode>read only</readWriteMode>
		</timeSeriesSet>
	</variable>
	<variable>
		<variableId>Qplan_hydro_aep75</variableId>
		<timeSeriesSet>
			<moduleInstanceId>ProcessPlanningHydro</moduleInstanceId>
			<valueType>scalar</valueType>
			<parameterId>Q_plan</parameterId>
			<qualifierId>aep75</qualifierId>
			<locationSetId>SourceRO_sites_Q</locationSetId>
			<timeSeriesType>external forecasting</timeSeriesType>
			<timeStep id="8am"/>
			<relativeViewPeriod start="0" end="730" unit="day" startOverrulable="true"/>
			<readWriteMode>read only</readWriteMode>
		</timeSeriesSet>
	</variable>
	<variable>
		<variableId>Qplan_hydro_aep50</variableId>
		<timeSeriesSet>
			<moduleInstanceId>ProcessPlanningHydro</moduleInstanceId>
			<valueType>scalar</valueType>
			<parameterId>Q_plan</parameterId>
			<qualifierId>aep50</qualifierId>
			<locationSetId>SourceRO_sites_Q</locationSetId>
			<timeSeriesType>external forecasting</timeSeriesType>
			<timeStep id="8am"/>
			<relativeViewPeriod start="0" end="730" unit="day" startOverrulable="true"/>
			<readWriteMode>read only</readWriteMode>
		</timeSeriesSet>
	</variable>
	<!--Q fcst: Qplan statistics - Monthly timestep (temporary)-->
	<variable>
		<variableId>Cycle_month</variableId>
		<timeSeriesSet>
			<moduleInstanceId>PrepareewSourceRO_Qcomb</moduleInstanceId>
			<valueType>scalar</valueType>
			<parameterId>index</parameterId>
			<locationSetId>SourceRO_sites_Q</locationSetId>
			<timeSeriesType>temporary</timeSeriesType>
			<timeStep id="Monthly"/>
			<cycle unit="year"/>
			<relativeViewPeriod start="-400" end="730" unit="day" startOverrulable="true"/>
			<readWriteMode>add originals</readWriteMode>
		</timeSeriesSet>
	</variable>
	<variable>
		<variableId>Qplan_monthly_min</variableId>
		<timeSeriesSet>
			<moduleInstanceId>PrepareewSourceRO_Qcomb</moduleInstanceId>
			<valueType>scalar</valueType>
			<parameterId>Q_plan</parameterId>
			<qualifierId>min</qualifierId>
			<locationSetId>SourceRO_sites_Q</locationSetId>
			<timeSeriesType>temporary</timeSeriesType>
			<timeStep id="Monthly"/>
			<relativeViewPeriod start="-400" end="730" unit="day" startOverrulable="true"/>
			<readWriteMode>add originals</readWriteMode>
		</timeSeriesSet>
	</variable>
	<variable>
		<variableId>Qplan_monthly_aep90</variableId>
		<timeSeriesSet>
			<moduleInstanceId>PrepareewSourceRO_Qcomb</moduleInstanceId>
			<valueType>scalar</valueType>
			<parameterId>Q_plan</parameterId>
			<qualifierId>aep90</qualifierId>
			<locationSetId>SourceRO_sites_Q</locationSetId>
			<timeSeriesType>temporary</timeSeriesType>
			<timeStep id="Monthly"/>
			<relativeViewPeriod start="-400" end="730" unit="day" startOverrulable="true"/>
			<readWriteMode>add originals</readWriteMode>
		</timeSeriesSet>
	</variable>
	<variable>
		<variableId>Qplan_monthly_aep75</variableId>
		<timeSeriesSet>
			<moduleInstanceId>PrepareewSourceRO_Qcomb</moduleInstanceId>
			<valueType>scalar</valueType>
			<parameterId>Q_plan</parameterId>
			<qualifierId>aep75</qualifierId>
			<locationSetId>SourceRO_sites_Q</locationSetId>
			<timeSeriesType>temporary</timeSeriesType>
			<timeStep id="Monthly"/>
			<relativeViewPeriod start="-400" end="730" unit="day" startOverrulable="true"/>
			<readWriteMode>add originals</readWriteMode>
		</timeSeriesSet>
	</variable>
	<variable>
		<variableId>Qplan_monthly_aep50</variableId>
		<timeSeriesSet>
			<moduleInstanceId>PrepareewSourceRO_Qcomb</moduleInstanceId>
			<valueType>scalar</valueType>
			<parameterId>Q_plan</parameterId>
			<qualifierId>aep50</qualifierId>
			<locationSetId>SourceRO_sites_Q</locationSetId>
			<timeSeriesType>temporary</timeSeriesType>
			<timeStep id="Monthly"/>
			<relativeViewPeriod start="-400" end="730" unit="day" startOverrulable="true"/>
			<readWriteMode>add originals</readWriteMode>
		</timeSeriesSet>
	</variable>
	<variable>
		<variableId>Qplan_monthly_shift_min</variableId>
		<timeSeriesSet>
			<moduleInstanceId>PrepareewSourceRO_Qcomb</moduleInstanceId>
			<valueType>scalar</valueType>
			<parameterId>Q_plan</parameterId>
			<qualifierId>min</qualifierId>
			<qualifierId>shift</qualifierId>
			<locationSetId>SourceRO_sites_Q</locationSetId>
			<timeSeriesType>temporary</timeSeriesType>
			<timeStep id="Monthly"/>
			<relativeViewPeriod start="-400" end="730" unit="day" startOverrulable="true"/>
			<readWriteMode>add originals</readWriteMode>
		</timeSeriesSet>
	</variable>
	<variable>
		<variableId>Qplan_monthly_shift_aep90</variableId>
		<timeSeriesSet>
			<moduleInstanceId>PrepareewSourceRO_Qcomb</moduleInstanceId>
			<valueType>scalar</valueType>
			<parameterId>Q_plan</parameterId>
			<qualifierId>aep90</qualifierId>
			<qualifierId>shift</qualifierId>
			<locationSetId>SourceRO_sites_Q</locationSetId>
			<timeSeriesType>temporary</timeSeriesType>
			<timeStep id="Monthly"/>
			<relativeViewPeriod start="-400" end="730" unit="day" startOverrulable="true"/>
			<readWriteMode>add originals</readWriteMode>
		</timeSeriesSet>
	</variable>
	<variable>
		<variableId>Qplan_monthly_shift_aep75</variableId>
		<timeSeriesSet>
			<moduleInstanceId>PrepareewSourceRO_Qcomb</moduleInstanceId>
			<valueType>scalar</valueType>
			<parameterId>Q_plan</parameterId>
			<qualifierId>aep75</qualifierId>
			<qualifierId>shift</qualifierId>
			<locationSetId>SourceRO_sites_Q</locationSetId>
			<timeSeriesType>temporary</timeSeriesType>
			<timeStep id="Monthly"/>
			<relativeViewPeriod start="-400" end="730" unit="day" startOverrulable="true"/>
			<readWriteMode>add originals</readWriteMode>
		</timeSeriesSet>
	</variable>
	<variable>
		<variableId>Qplan_monthly_shift_aep50</variableId>
		<timeSeriesSet>
			<moduleInstanceId>PrepareewSourceRO_Qcomb</moduleInstanceId>
			<valueType>scalar</valueType>
			<parameterId>Q_plan</parameterId>
			<qualifierId>aep50</qualifierId>
			<qualifierId>shift</qualifierId>
			<locationSetId>SourceRO_sites_Q</locationSetId>
			<timeSeriesType>temporary</timeSeriesType>
			<timeStep id="Monthly"/>
			<relativeViewPeriod start="-400" end="730" unit="day" startOverrulable="true"/>
			<readWriteMode>add originals</readWriteMode>
		</timeSeriesSet>
	</variable>
	<variable>
		<variableId>Qplan_daily_min</variableId>
		<timeSeriesSet>
			<moduleInstanceId>PrepareewSourceRO_Qcomb</moduleInstanceId>
			<valueType>scalar</valueType>
			<parameterId>Q_plan</parameterId>
			<qualifierId>daily</qualifierId>
			<qualifierId>min</qualifierId>
			<locationSetId>SourceRO_sites_Q</locationSetId>
			<timeSeriesType>temporary</timeSeriesType>
			<timeStep id="8am"/>
			<relativeViewPeriod start="0" end="730" unit="day" startOverrulable="true"/>
			<readWriteMode>add originals</readWriteMode>
		</timeSeriesSet>
	</variable>
	<variable>
		<variableId>Qplan_daily_aep90</variableId>
		<timeSeriesSet>
			<moduleInstanceId>PrepareewSourceRO_Qcomb</moduleInstanceId>
			<valueType>scalar</valueType>
			<parameterId>Q_plan</parameterId>
			<qualifierId>daily</qualifierId>
			<qualifierId>aep90</qualifierId>
			<locationSetId>SourceRO_sites_Q</locationSetId>
			<timeSeriesType>temporary</timeSeriesType>
			<timeStep id="8am"/>
			<relativeViewPeriod start="0" end="730" unit="day" startOverrulable="true"/>
			<readWriteMode>add originals</readWriteMode>
		</timeSeriesSet>
	</variable>
	<variable>
		<variableId>Qplan_daily_aep75</variableId>
		<timeSeriesSet>
			<moduleInstanceId>PrepareewSourceRO_Qcomb</moduleInstanceId>
			<valueType>scalar</valueType>
			<parameterId>Q_plan</parameterId>
			<qualifierId>daily</qualifierId>
			<qualifierId>aep75</qualifierId>
			<locationSetId>SourceRO_sites_Q</locationSetId>
			<timeSeriesType>temporary</timeSeriesType>
			<timeStep id="8am"/>
			<relativeViewPeriod start="0" end="730" unit="day" startOverrulable="true"/>
			<readWriteMode>add originals</readWriteMode>
		</timeSeriesSet>
	</variable>
	<variable>
		<variableId>Qplan_daily_aep50</variableId>
		<timeSeriesSet>
			<moduleInstanceId>PrepareewSourceRO_Qcomb</moduleInstanceId>
			<valueType>scalar</valueType>
			<parameterId>Q_plan</parameterId>
			<qualifierId>daily</qualifierId>
			<qualifierId>aep50</qualifierId>
			<locationSetId>SourceRO_sites_Q</locationSetId>
			<timeSeriesType>temporary</timeSeriesType>
			<timeStep id="8am"/>
			<relativeViewPeriod start="0" end="730" unit="day" startOverrulable="true"/>
			<readWriteMode>add originals</readWriteMode>
		</timeSeriesSet>
	</variable>
	<!--Q fcst: Qcomb resulting series-->
	<variable>
		<variableId>Qcomb_min</variableId>
		<timeSeriesSet>
			<moduleInstanceId>PrepareewSourceRO_Qcomb</moduleInstanceId>
			<valueType>scalar</valueType>
			<parameterId>Q_comb</parameterId>
			<qualifierId>min</qualifierId>
			<locationSetId>SourceRO_sites_Q</locationSetId>
			<timeSeriesType>simulated forecasting</timeSeriesType>
			<timeStep id="8am"/>
			<relativeViewPeriod start="-400" end="730" unit="day" startOverrulable="true"/>
			<readWriteMode>add originals</readWriteMode>
		</timeSeriesSet>
	</variable>
	<variable>
		<variableId>Qcomb_aep90</variableId>
		<timeSeriesSet>
			<moduleInstanceId>PrepareewSourceRO_Qcomb</moduleInstanceId>
			<valueType>scalar</valueType>
			<parameterId>Q_comb</parameterId>
			<qualifierId>aep90</qualifierId>
			<locationSetId>SourceRO_sites_Q</locationSetId>
			<timeSeriesType>simulated forecasting</timeSeriesType>
			<timeStep id="8am"/>
			<relativeViewPeriod start="-400" end="730" unit="day" startOverrulable="true"/>
			<readWriteMode>add originals</readWriteMode>
		</timeSeriesSet>
	</variable>
	<variable>
		<variableId>Qcomb_aep75</variableId>
		<timeSeriesSet>
			<moduleInstanceId>PrepareewSourceRO_Qcomb</moduleInstanceId>
			<valueType>scalar</valueType>
			<parameterId>Q_comb</parameterId>
			<qualifierId>aep75</qualifierId>
			<locationSetId>SourceRO_sites_Q</locationSetId>
			<timeSeriesType>simulated forecasting</timeSeriesType>
			<timeStep id="8am"/>
			<relativeViewPeriod start="-400" end="730" unit="day" startOverrulable="true"/>
			<readWriteMode>add originals</readWriteMode>
		</timeSeriesSet>
	</variable>
	<variable>
		<variableId>Qcomb_aep50</variableId>
		<timeSeriesSet>
			<moduleInstanceId>PrepareewSourceRO_Qcomb</moduleInstanceId>
			<valueType>scalar</valueType>
			<parameterId>Q_comb</parameterId>
			<qualifierId>aep50</qualifierId>
			<locationSetId>SourceRO_sites_Q</locationSetId>
			<timeSeriesType>simulated forecasting</timeSeriesType>
			<timeStep id="8am"/>
			<relativeViewPeriod start="-400" end="730" unit="day" startOverrulable="true"/>
			<readWriteMode>add originals</readWriteMode>
		</timeSeriesSet>
	</variable>
	<!--%%%%%%%%%%%%%%%%%%%%%%%%%-->
	<!--========= START TRANSFORMATIONS ========= -->
	<!--%%%%%%%%%%%%%%%%%%%%%%%%%-->
	<!--========================================================================================-->
	<!--Inflow: Flow-->
	<!--Step 1 Flow Fcst: Generate Manual Forecaster Series-->
	<transformation id="Gauges_Qobs_extend">
		<interpolationSerial>
			<extrapolateConstant>
				<inputVariable>
					<variableId>Gauges_Qobs</variableId>
				</inputVariable>
				<extrapolateDirection>end</extrapolateDirection>
				<outputVariable>
					<variableId>Gauges_Qobs_extend</variableId>
				</outputVariable>
			</extrapolateConstant>
		</interpolationSerial>
	</transformation>
	<transformation id="Trend_Qfcst_initial">
		<user>
			<simple>
				<expression>Gauges_Qobs_extend</expression>
				<outputVariable>
					<variableId>Trend_Qfcst_initial</variableId>
				</outputVariable>
			</simple>
		</user>
	</transformation>
	<transformation id="Trend_Qfcst">
		<user>
			<simple>
				<expression>PREVIOUS_OUTPUT_VALUE * Trend</expression>
				<coefficientSetFunctions>
					<coefficient id="Trend" value="@SITE_Q_TREND_FACTOR@"/>
				</coefficientSetFunctions>
				<outputVariable>
					<variableId>Trend_Qfcst</variableId>
				</outputVariable>
			</simple>
		</user>
	</transformation>
	<transformation id="Trend_Qfcst_base">
		<user>
			<simple>
				<expression>if((Trend_Qfcst &lt; TrendQ) , N_a_N,  Trend_Qfcst)</expression>
				<coefficientSetFunctions>
					<coefficient id="TrendQ" value="@SITE_Q_TREND_BASEQ@"/>
					<coefficient id="N_a_N" value="0/0"/>
				</coefficientSetFunctions>
				<outputVariable>
					<variableId>Trend_Qfcst</variableId>
				</outputVariable>
			</simple>
		</user>
	</transformation>
	<transformation id="Gamma_serial_initial">
		<user>
			<simple>
				<expression>0</expression>
				<outputVariable>
					<variableId>Gamma_serial_initial</variableId>
				</outputVariable>
			</simple>
		</user>
	</transformation>
	<transformation id="Gamma_serial_initial_ext">
		<user>
			<simple>
				<expression>PREVIOUS_OUTPUT_VALUE + 24</expression>
				<outputVariable>
					<variableId>Gamma_serial_initial_ext</variableId>
				</outputVariable>
			</simple>
		</user>
	</transformation>
	<transformation id="Gamma_serial_initial_ext2">
		<user>
			<simple>
				<!--unit=days, conversion *24 is needed to unit h. t max (hours) is equal to 5* Gamma peak time in hours-->
				<expression>if(Gamma_serial_initial_ext &gt; 5*24*Gamma_peak_time, 5*24*Gamma_peak_time, Gamma_serial_initial_ext)</expression>
				<coefficientSetFunctions>
					<coefficient id="Gamma_peak_time" value="@SITE_Q_PULSE_PEAKT@"/>
					<!--unit=days, conversion *24 is needed to unit h-->
				</coefficientSetFunctions>
				<outputVariable>
					<variableId>Gamma_serial_initial_ext</variableId>
				</outputVariable>
			</simple>
		</user>
	</transformation>
	<transformation id="Gamma_Qfcst_z">
		<user>
			<simple>
				<expression>Gamma_serial_initial_complete/(5*24*Gamma_peak_time)*5</expression>
				<coefficientSetFunctions>
					<coefficient id="Gamma_peak_time" value="@SITE_Q_PULSE_PEAKT@"/>
					<!--unit=days, conversion *24 is needed to unit h-->
				</coefficientSetFunctions>
				<outputVariable>
					<variableId>Gamma_Qfcst_z</variableId>
				</outputVariable>
			</simple>
		</user>
	</transformation>
	<transformation id="Gamma_serial_initial_h">
		<user>
			<simple>
				<expression>Gamma_serial_initial</expression>
				<outputVariable>
					<variableId>Gamma_serial_initial_h</variableId>
				</outputVariable>
			</simple>
		</user>
	</transformation>
	<transformation id="Gamma_serial_initial_ext_h">
		<user>
			<simple>
				<expression>PREVIOUS_OUTPUT_VALUE + 1</expression>
				<outputVariable>
					<variableId>Gamma_serial_initial_ext_h</variableId>
				</outputVariable>
			</simple>
		</user>
	</transformation>
	<transformation id="Gamma_serial_initial_ext2_h">
		<user>
			<simple>
				<!--unit=hours, t max (hours) is equal to 5* Gamma peak time in hours-->
				<expression>if(Gamma_serial_initial_ext_h &gt; 5*24*Gamma_peak_time, 5*24*Gamma_peak_time, Gamma_serial_initial_ext_h)</expression>
				<coefficientSetFunctions>
					<coefficient id="Gamma_peak_time" value="@SITE_Q_PULSE_PEAKT@"/>
					<!--unit=days, conversion *24 is needed to unit h-->
				</coefficientSetFunctions>
				<outputVariable>
					<variableId>Gamma_serial_initial_ext_h</variableId>
				</outputVariable>
			</simple>
		</user>
	</transformation>
	<transformation id="Gamma_Qfcst_z_h">
		<user>
			<simple>
				<expression>Gamma_serial_initial_complete_h/(5*24*Gamma_peak_time)*5</expression>
				<coefficientSetFunctions>
					<coefficient id="Gamma_peak_time" value="@SITE_Q_PULSE_PEAKT@"/>
					<!--unit=days, conversion *24 is needed to unit h-->
				</coefficientSetFunctions>
				<outputVariable>
					<variableId>Gamma_Qfcst_z_h</variableId>
				</outputVariable>
			</simple>
		</user>
	</transformation>
	<transformation id="Gamma_Qfcst_rise_initial">
		<user>
			<simple>
				<expression>0</expression>
				<outputVariable>
					<variableId>Gamma_Qfcst_rise_initial_default</variableId>
				</outputVariable>
			</simple>
		</user>
	</transformation>
	<transformation id="Gamma_Qfcst_rise_initial">
		<user>
			<simple>
				<expression>Gauges_Qobs_extend</expression>
				<outputVariable>
					<variableId>Gamma_Qfcst_rise_initial</variableId>
				</outputVariable>
			</simple>
		</user>
	</transformation>
	<transformation id="Gamma_Qfcst_rise_initial_default">
		<merge>
			<simple>
				<inputVariable>
					<variableId>Gamma_Qfcst_rise_initial</variableId>
				</inputVariable>
				<inputVariable>
					<variableId>Gamma_Qfcst_rise_initial_default</variableId>
				</inputVariable>
				<outputVariable>
					<variableId>Gamma_Qfcst_rise_initial</variableId>
				</outputVariable>
			</simple>
		</merge>
	</transformation>
	<transformation id="Gamma_Qfcst_rise_initial_ext">
		<interpolationSerial>
			<block>
				<inputVariable>
					<variableId>Gamma_Qfcst_rise_initial</variableId>
				</inputVariable>
				<outputVariable>
					<variableId>Gamma_Qfcst_rise_initial_ext</variableId>
				</outputVariable>
			</block>
		</interpolationSerial>
	</transformation>
	<transformation id="Gamma_Qfcst_rise_initial_ext2">
		<interpolationSerial>
			<default>
				<inputVariable>
					<variableId>Gamma_Qfcst_rise_initial_ext</variableId>
				</inputVariable>
				<defaultValue>0</defaultValue>
				<outputVariable>
					<variableId>Gamma_Qfcst_rise_initial_ext</variableId>
				</outputVariable>
			</default>
		</interpolationSerial>
	</transformation>
	<transformation id="Gamma_Qfcst_rise_initial_ext2_h">
		<interpolationSerial>
			<default>
				<inputVariable>
					<variableId>Gamma_Qfcst_rise_initial_complete</variableId>
				</inputVariable>
				<outputVariable>
					<variableId>Gamma_Qfcst_rise_initial_complete_h</variableId>
				</outputVariable>
			</default>
		</interpolationSerial>
	</transformation>
	<transformation id="phi_alpha">
		<user>
			<simple>
				<!--Phi_Alpha = (Qp * tp) / (Cv * A)

In this formula, 
Qp - the peak flow rate Qp (Gamma_peak_value) needs to be converted to units of "cfs /inch" (this is the peak value of the unit hydrograph in cfs for a 1-inch rainfall depth). 
A - drainage area A needs to be defined in acres
tp - time to peak tp in hours
Cv  - equals 1.008 for volumes measured in cfs * hrs, drainage area in acres, and the unit storm as 1-inch.

It appears the provided value in the attributes are not representative - it is unclear how the conversion should take place of the provided Qp value. As it stands, with just a direct conversion from ML/day to cfs, the resulting value of Phi_Alpha is not of the right order, messing up the lookup for alpha.-->
				<expression>((Gamma_peak_time*24)*(Gamma_peak_value/2.45))/(1.008*catchment_area*640)</expression>
				<coefficientSetFunctions>
					<coefficient id="Gamma_peak_time" value="@SITE_Q_PULSE_PEAKT@"/>
					<!--unit=days, conversion *24 is needed to unit h-->
					<coefficient id="Gamma_peak_value" value="@SITE_Q_PULSE_PEAKQ@"/>
					<!--unit=ML/day, so conversion 1/2.45 is needed to cfs-->
					<coefficient id="catchment_area" value="@SITE_Q_AREA@"/>
					<!--catchment area in Acres. In that case 1.008 value for Cv is needed-->
				</coefficientSetFunctions>
				<outputVariable>
					<variableId>phi_alpha</variableId>
				</outputVariable>
			</simple>
		</user>
	</transformation>
	<transformation id="alpha">
		<lookup>
			<simple>
				<input>
					<variableId>phi_alpha</variableId>
				</input>
				<coefficientSet>
					<interpolationType>linear</interpolationType>
					<extrapolationType>extrapolate</extrapolationType>
					<lookupTable>
						<lookupTableRow input="0.368" output="1.00"/>
						<lookupTableRow input="0.418" output="1.25"/>
						<lookupTableRow input="0.463" output="1.50"/>
						<lookupTableRow input="0.503" output="1.75"/>
						<lookupTableRow input="0.541" output="2.00"/>
						<lookupTableRow input="0.577" output="2.25"/>
						<lookupTableRow input="0.610" output="2.50"/>
						<lookupTableRow input="0.642" output="2.75"/>
						<lookupTableRow input="0.672" output="3.00"/>
						<lookupTableRow input="0.729" output="3.50"/>
						<lookupTableRow input="0.781" output="4.00"/>
						<lookupTableRow input="0.831" output="4.50"/>
						<lookupTableRow input="0.877" output="5.00"/>
						<lookupTableRow input="0.922" output="5.50"/>
						<lookupTableRow input="0.964" output="6.00"/>
						<lookupTableRow input="1.004" output="6.50"/>
						<lookupTableRow input="1.043" output="7.00"/>
						<lookupTableRow input="1.080" output="7.50"/>
						<lookupTableRow input="1.117" output="8.00"/>
						<lookupTableRow input="1.152" output="8.50"/>
						<lookupTableRow input="1.186" output="9.00"/>
						<lookupTableRow input="1.219" output="9.50"/>
						<lookupTableRow input="1.251" output="10.00"/>
						<lookupTableRow input="1.283" output="10.50"/>
						<lookupTableRow input="1.313" output="11.00"/>
						<lookupTableRow input="1.343" output="11.50"/>
						<lookupTableRow input="1.372" output="12.00"/>
						<lookupTableRow input="1.401" output="12.50"/>
						<lookupTableRow input="1.429" output="13.00"/>
						<lookupTableRow input="1.457" output="13.50"/>
						<lookupTableRow input="1.484" output="14.00"/>
						<lookupTableRow input="1.510" output="14.50"/>
						<lookupTableRow input="1.537" output="15.00"/>
						<lookupTableRow input="1.562" output="15.50"/>
						<lookupTableRow input="1.587" output="16.00"/>
						<lookupTableRow input="1.612" output="16.50"/>
						<lookupTableRow input="1.637" output="17.00"/>
						<lookupTableRow input="1.661" output="17.50"/>
						<lookupTableRow input="1.685" output="18.00"/>
						<lookupTableRow input="1.708" output="18.50"/>
						<lookupTableRow input="1.731" output="19.00"/>
						<lookupTableRow input="1.754" output="19.50"/>
						<lookupTableRow input="1.777" output="20.00"/>
						<lookupTableRow input="1.799" output="20.50"/>
						<lookupTableRow input="1.821" output="21.00"/>
						<lookupTableRow input="1.843" output="21.50"/>
						<lookupTableRow input="1.864" output="22.00"/>
						<lookupTableRow input="1.885" output="22.50"/>
						<lookupTableRow input="1.906" output="23.00"/>
						<lookupTableRow input="1.927" output="23.50"/>
						<lookupTableRow input="1.948" output="24.00"/>
						<lookupTableRow input="1.968" output="24.50"/>
						<lookupTableRow input="1.988" output="25.00"/>
						<lookupTableRow input="2.008" output="25.50"/>
						<lookupTableRow input="2.028" output="26.00"/>
						<lookupTableRow input="2.047" output="26.50"/>
						<lookupTableRow input="2.067" output="27.00"/>
						<lookupTableRow input="2.086" output="27.50"/>
						<lookupTableRow input="2.105" output="28.00"/>
						<lookupTableRow input="2.124" output="28.50"/>
						<lookupTableRow input="2.142" output="29.00"/>
						<lookupTableRow input="2.161" output="29.50"/>
						<lookupTableRow input="2.179" output="30.00"/>
						<lookupTableRow input="2.197" output="30.50"/>
						<lookupTableRow input="2.215" output="31.00"/>
						<lookupTableRow input="2.233" output="31.50"/>
						<lookupTableRow input="2.251" output="32.00"/>
						<lookupTableRow input="2.268" output="32.50"/>
						<lookupTableRow input="2.286" output="33.00"/>
						<lookupTableRow input="2.303" output="33.50"/>
						<lookupTableRow input="2.321" output="34.00"/>
						<lookupTableRow input="2.338" output="34.50"/>
						<lookupTableRow input="2.355" output="35.00"/>
						<lookupTableRow input="2.371" output="35.50"/>
						<lookupTableRow input="2.388" output="36.00"/>
						<lookupTableRow input="2.405" output="36.50"/>
						<lookupTableRow input="2.421" output="37.00"/>
						<lookupTableRow input="2.438" output="37.50"/>
						<lookupTableRow input="2.454" output="38.00"/>
						<lookupTableRow input="2.470" output="38.50"/>
						<lookupTableRow input="2.486" output="39.00"/>
						<lookupTableRow input="2.502" output="39.50"/>
						<lookupTableRow input="2.518" output="40.00"/>
						<lookupTableRow input="2.534" output="40.50"/>
						<lookupTableRow input="2.549" output="41.00"/>
						<lookupTableRow input="2.565" output="41.50"/>
						<lookupTableRow input="2.580" output="42.00"/>
						<lookupTableRow input="2.596" output="42.50"/>
						<lookupTableRow input="2.611" output="43.00"/>
						<lookupTableRow input="2.626" output="43.50"/>
						<lookupTableRow input="2.641" output="44.00"/>
						<lookupTableRow input="2.656" output="44.50"/>
						<lookupTableRow input="2.671" output="45.00"/>
						<lookupTableRow input="2.686" output="45.50"/>
						<lookupTableRow input="2.701" output="46.00"/>
						<lookupTableRow input="2.716" output="46.50"/>
						<lookupTableRow input="2.730" output="47.00"/>
						<lookupTableRow input="2.745" output="47.50"/>
						<lookupTableRow input="2.759" output="48.00"/>
						<lookupTableRow input="2.774" output="48.50"/>
						<lookupTableRow input="2.788" output="49.00"/>
						<lookupTableRow input="2.802" output="49.50"/>
						<lookupTableRow input="2.816" output="50.00"/>
						<lookupTableRow input="2.830" output="50.50"/>
						<lookupTableRow input="2.844" output="51.00"/>
						<lookupTableRow input="2.858" output="51.50"/>
						<lookupTableRow input="2.872" output="52.00"/>
						<lookupTableRow input="2.886" output="52.50"/>
						<lookupTableRow input="2.900" output="53.00"/>
						<lookupTableRow input="2.913" output="53.50"/>
						<lookupTableRow input="2.927" output="54.00"/>
						<lookupTableRow input="2.941" output="54.50"/>
						<lookupTableRow input="2.954" output="55.00"/>
						<lookupTableRow input="2.968" output="55.50"/>
						<lookupTableRow input="2.981" output="56.00"/>
						<lookupTableRow input="2.994" output="56.50"/>
						<lookupTableRow input="3.008" output="57.00"/>
					</lookupTable>
				</coefficientSet>
				<output>
					<variableId>alpha</variableId>
				</output>
			</simple>
		</lookup>
	</transformation>
	<transformation id="phi_alpha_h">
		<user>
			<simple>
				<expression>((Gamma_peak_time*24)*(Gamma_peak_value/2.45))/(1.008*catchment_area*640)</expression>
				<coefficientSetFunctions>
					<coefficient id="Gamma_peak_time" value="@SITE_Q_PULSE_PEAKT@"/>
					<!--unit=days, conversion *24 is needed to unit h-->
					<coefficient id="Gamma_peak_value" value="@SITE_Q_PULSE_PEAKQ@"/>
					<!--unit=ML/day, so conversion 1/2.45 is needed to cfs-->
					<coefficient id="catchment_area" value="@SITE_Q_AREA@"/>
					<!--catchment area in Acres? In that case 1.008 value for Cv is needed-->
				</coefficientSetFunctions>
				<outputVariable>
					<variableId>phi_alpha_h</variableId>
				</outputVariable>
			</simple>
		</user>
	</transformation>
	<transformation id="alpha_h">
		<lookup>
			<simple>
				<input>
					<variableId>phi_alpha_h</variableId>
				</input>
				<coefficientSet>
					<interpolationType>linear</interpolationType>
					<extrapolationType>extrapolate</extrapolationType>
					<lookupTable>
						<lookupTableRow input="0.368" output="1.00"/>
						<lookupTableRow input="0.418" output="1.25"/>
						<lookupTableRow input="0.463" output="1.50"/>
						<lookupTableRow input="0.503" output="1.75"/>
						<lookupTableRow input="0.541" output="2.00"/>
						<lookupTableRow input="0.577" output="2.25"/>
						<lookupTableRow input="0.610" output="2.50"/>
						<lookupTableRow input="0.642" output="2.75"/>
						<lookupTableRow input="0.672" output="3.00"/>
						<lookupTableRow input="0.729" output="3.50"/>
						<lookupTableRow input="0.781" output="4.00"/>
						<lookupTableRow input="0.831" output="4.50"/>
						<lookupTableRow input="0.877" output="5.00"/>
						<lookupTableRow input="0.922" output="5.50"/>
						<lookupTableRow input="0.964" output="6.00"/>
						<lookupTableRow input="1.004" output="6.50"/>
						<lookupTableRow input="1.043" output="7.00"/>
						<lookupTableRow input="1.080" output="7.50"/>
						<lookupTableRow input="1.117" output="8.00"/>
						<lookupTableRow input="1.152" output="8.50"/>
						<lookupTableRow input="1.186" output="9.00"/>
						<lookupTableRow input="1.219" output="9.50"/>
						<lookupTableRow input="1.251" output="10.00"/>
						<lookupTableRow input="1.283" output="10.50"/>
						<lookupTableRow input="1.313" output="11.00"/>
						<lookupTableRow input="1.343" output="11.50"/>
						<lookupTableRow input="1.372" output="12.00"/>
						<lookupTableRow input="1.401" output="12.50"/>
						<lookupTableRow input="1.429" output="13.00"/>
						<lookupTableRow input="1.457" output="13.50"/>
						<lookupTableRow input="1.484" output="14.00"/>
						<lookupTableRow input="1.510" output="14.50"/>
						<lookupTableRow input="1.537" output="15.00"/>
						<lookupTableRow input="1.562" output="15.50"/>
						<lookupTableRow input="1.587" output="16.00"/>
						<lookupTableRow input="1.612" output="16.50"/>
						<lookupTableRow input="1.637" output="17.00"/>
						<lookupTableRow input="1.661" output="17.50"/>
						<lookupTableRow input="1.685" output="18.00"/>
						<lookupTableRow input="1.708" output="18.50"/>
						<lookupTableRow input="1.731" output="19.00"/>
						<lookupTableRow input="1.754" output="19.50"/>
						<lookupTableRow input="1.777" output="20.00"/>
						<lookupTableRow input="1.799" output="20.50"/>
						<lookupTableRow input="1.821" output="21.00"/>
						<lookupTableRow input="1.843" output="21.50"/>
						<lookupTableRow input="1.864" output="22.00"/>
						<lookupTableRow input="1.885" output="22.50"/>
						<lookupTableRow input="1.906" output="23.00"/>
						<lookupTableRow input="1.927" output="23.50"/>
						<lookupTableRow input="1.948" output="24.00"/>
						<lookupTableRow input="1.968" output="24.50"/>
						<lookupTableRow input="1.988" output="25.00"/>
						<lookupTableRow input="2.008" output="25.50"/>
						<lookupTableRow input="2.028" output="26.00"/>
						<lookupTableRow input="2.047" output="26.50"/>
						<lookupTableRow input="2.067" output="27.00"/>
						<lookupTableRow input="2.086" output="27.50"/>
						<lookupTableRow input="2.105" output="28.00"/>
						<lookupTableRow input="2.124" output="28.50"/>
						<lookupTableRow input="2.142" output="29.00"/>
						<lookupTableRow input="2.161" output="29.50"/>
						<lookupTableRow input="2.179" output="30.00"/>
						<lookupTableRow input="2.197" output="30.50"/>
						<lookupTableRow input="2.215" output="31.00"/>
						<lookupTableRow input="2.233" output="31.50"/>
						<lookupTableRow input="2.251" output="32.00"/>
						<lookupTableRow input="2.268" output="32.50"/>
						<lookupTableRow input="2.286" output="33.00"/>
						<lookupTableRow input="2.303" output="33.50"/>
						<lookupTableRow input="2.321" output="34.00"/>
						<lookupTableRow input="2.338" output="34.50"/>
						<lookupTableRow input="2.355" output="35.00"/>
						<lookupTableRow input="2.371" output="35.50"/>
						<lookupTableRow input="2.388" output="36.00"/>
						<lookupTableRow input="2.405" output="36.50"/>
						<lookupTableRow input="2.421" output="37.00"/>
						<lookupTableRow input="2.438" output="37.50"/>
						<lookupTableRow input="2.454" output="38.00"/>
						<lookupTableRow input="2.470" output="38.50"/>
						<lookupTableRow input="2.486" output="39.00"/>
						<lookupTableRow input="2.502" output="39.50"/>
						<lookupTableRow input="2.518" output="40.00"/>
						<lookupTableRow input="2.534" output="40.50"/>
						<lookupTableRow input="2.549" output="41.00"/>
						<lookupTableRow input="2.565" output="41.50"/>
						<lookupTableRow input="2.580" output="42.00"/>
						<lookupTableRow input="2.596" output="42.50"/>
						<lookupTableRow input="2.611" output="43.00"/>
						<lookupTableRow input="2.626" output="43.50"/>
						<lookupTableRow input="2.641" output="44.00"/>
						<lookupTableRow input="2.656" output="44.50"/>
						<lookupTableRow input="2.671" output="45.00"/>
						<lookupTableRow input="2.686" output="45.50"/>
						<lookupTableRow input="2.701" output="46.00"/>
						<lookupTableRow input="2.716" output="46.50"/>
						<lookupTableRow input="2.730" output="47.00"/>
						<lookupTableRow input="2.745" output="47.50"/>
						<lookupTableRow input="2.759" output="48.00"/>
						<lookupTableRow input="2.774" output="48.50"/>
						<lookupTableRow input="2.788" output="49.00"/>
						<lookupTableRow input="2.802" output="49.50"/>
						<lookupTableRow input="2.816" output="50.00"/>
						<lookupTableRow input="2.830" output="50.50"/>
						<lookupTableRow input="2.844" output="51.00"/>
						<lookupTableRow input="2.858" output="51.50"/>
						<lookupTableRow input="2.872" output="52.00"/>
						<lookupTableRow input="2.886" output="52.50"/>
						<lookupTableRow input="2.900" output="53.00"/>
						<lookupTableRow input="2.913" output="53.50"/>
						<lookupTableRow input="2.927" output="54.00"/>
						<lookupTableRow input="2.941" output="54.50"/>
						<lookupTableRow input="2.954" output="55.00"/>
						<lookupTableRow input="2.968" output="55.50"/>
						<lookupTableRow input="2.981" output="56.00"/>
						<lookupTableRow input="2.994" output="56.50"/>
						<lookupTableRow input="3.008" output="57.00"/>
					</lookupTable>
				</coefficientSet>
				<output>
					<variableId>alpha_h</variableId>
				</output>
			</simple>
		</lookup>
	</transformation>
	<transformation id="Gamma_Qfcst">
		<user>
			<simple>
				<expression>Gamma_Qfcst_rise_initial_complete + Gamma_peak_value* (Gamma_Qfcst_z^alpha)*(exp((1-Gamma_Qfcst_z)*alpha))</expression>
				<coefficientSetFunctions>
					<coefficient id="Gamma_peak_value" value="@SITE_Q_PULSE_PEAKQ@"/>
				</coefficientSetFunctions>
				<outputVariable>
					<variableId>Gamma_Qfcst</variableId>
				</outputVariable>
			</simple>
		</user>
	</transformation>
	<transformation id="Gamma_Qfcst_h">
		<user>
			<simple>
				<expression>Gamma_Qfcst_rise_initial_complete_h + Gamma_peak_value* (Gamma_Qfcst_z_h^alpha_h)*(exp((1-Gamma_Qfcst_z_h)*alpha_h))</expression>
				<coefficientSetFunctions>
					<coefficient id="Gamma_peak_value" value="@SITE_Q_PULSE_PEAKQ@"/>
				</coefficientSetFunctions>
				<outputVariable>
					<variableId>Gamma_Qfcst_h</variableId>
				</outputVariable>
			</simple>
		</user>
	</transformation>
	<transformation id="Pulse_Qfcst_rise_initial">
		<user>
			<simple>
				<expression>Gauges_Qobs_extend</expression>
				<outputVariable>
					<variableId>Pulse_Qfcst_rise_initial</variableId>
				</outputVariable>
			</simple>
		</user>
	</transformation>
	<transformation id="Pulse_Qfcst_rise">
		<user>
			<simple>
				<expression>PREVIOUS_OUTPUT_VALUE * (1/Pulse_rise_rate) </expression>
				<coefficientSetFunctions>
					<coefficient id="Pulse_rise_rate" value="@SITE_Q_PULSE_RISE@"/>
				</coefficientSetFunctions>
				<outputVariable>
					<variableId>Pulse_Qfcst_rise</variableId>
				</outputVariable>
			</simple>
		</user>
	</transformation>
	<transformation id="Pulse_rise_NaN">
		<user>
			<simple>
				<expression>if((Pulse_Qfcst_rise &gt; ( Pulse_peak_value )) , 1/0, Pulse_Qfcst_rise)</expression>
				<coefficientSetFunctions>
					<coefficient id="Pulse_peak_value" value="@SITE_Q_PULSE_PEAKQ@"/>
				</coefficientSetFunctions>
				<outputVariable>
					<variableId>Pulse_Qfcst_rise</variableId>
				</outputVariable>
			</simple>
		</user>
	</transformation>
	<transformation id="Pulse_Qfcst_peak">
		<user>
			<simple>
				<expression>Pulse_peak_value</expression>
				<coefficientSetFunctions>
					<coefficient id="Pulse_peak_value" value="@SITE_Q_PULSE_PEAKQ@"/>
				</coefficientSetFunctions>
				<outputVariable>
					<variableId>Pulse_Qfcst_peak</variableId>
				</outputVariable>
			</simple>
		</user>
	</transformation>
	<transformation id="Pulse_Qfcst_recede_initial">
		<user>
			<simple>
				<expression>Pulse_peak_value</expression>
				<coefficientSetFunctions>
					<coefficient id="Pulse_peak_value" value="@SITE_Q_PULSE_PEAKQ@"/>
				</coefficientSetFunctions>
				<outputVariable>
					<variableId>Pulse_Qfcst_recede_initial</variableId>
				</outputVariable>
			</simple>
		</user>
	</transformation>
	<transformation id="Pulse_Qfcst_recede_fromT0">
		<user>
			<simple>
				<expression>PREVIOUS_OUTPUT_VALUE * (Pulse_recede_rate) </expression>
				<coefficientSetFunctions>
					<coefficient id="Pulse_recede_rate" value="@SITE_Q_PULSE_RECEDE@"/>
				</coefficientSetFunctions>
				<outputVariable>
					<variableId>Pulse_Qfcst_recede_fromT0</variableId>
				</outputVariable>
			</simple>
		</user>
	</transformation>
	<transformation id="Pulse_Qfcst_recede_shift">
		<timeShift>
			<constant>
				<inputVariable>
					<variableId>Pulse_Qfcst_recede_fromT0</variableId>
				</inputVariable>
				<direction>forward</direction>
				<numberOfTimeSteps>@SITE_Q_PULSE_PEAKT@</numberOfTimeSteps>
				<outputVariable>
					<variableId>Pulse_Qfcst_recede_shift</variableId>
				</outputVariable>
			</constant>
		</timeShift>
	</transformation>
	<transformation id="Pulse_Qfcst_recede_shift">
		<interpolationSerial>
			<extrapolateConstant>
				<inputVariable>
					<variableId>Pulse_Qfcst_recede_shift</variableId>
				</inputVariable>
				<extrapolateDirection>start</extrapolateDirection>
				<outputVariable>
					<variableId>Pulse_Qfcst_recede_shift</variableId>
				</outputVariable>
			</extrapolateConstant>
		</interpolationSerial>
	</transformation>
	<transformation id="Pulse_Qfcst_recede_NaN">
		<user>
			<simple>
				<expression>if((Pulse_Qfcst_recede_shift &lt; BaseQ) , N_a_N , Pulse_Qfcst_recede_shift)</expression>
				<coefficientSetFunctions>
					<coefficient id="BaseQ" value="@SITE_Q_PULSE_BASEQ@"/>
					<coefficient id="N_a_N" value="0/0"/>
				</coefficientSetFunctions>
				<outputVariable>
					<variableId>Pulse_Qfcst_recede</variableId>
				</outputVariable>
			</simple>
		</user>
	</transformation>
	<transformation id="Pulse_Qfcst_peak_NaN">
		<user>
			<simple>
				<expression>if((Pulse_Qfcst_recede &lt; Pulse_peak_value) , N_a_N , Pulse_Qfcst_peak)</expression>
				<coefficientSetFunctions>
					<coefficient id="Pulse_peak_value" value="@SITE_Q_PULSE_PEAKQ@"/>
					<coefficient id="N_a_N" value="0/0"/>
				</coefficientSetFunctions>
				<outputVariable>
					<variableId>Pulse_Qfcst_peak</variableId>
				</outputVariable>
			</simple>
		</user>
	</transformation>
	<transformation id="Pulse_Qfcst">
		<merge>
			<simple>
				<inputVariable>
					<variableId>Gauges_Qobs</variableId>
				</inputVariable>
				<inputVariable>
					<variableId>Pulse_Qfcst_rise</variableId>
				</inputVariable>
				<inputVariable>
					<variableId>Pulse_Qfcst_peak</variableId>
				</inputVariable>
				<inputVariable>
					<variableId>Pulse_Qfcst_recede</variableId>
				</inputVariable>
				<outputVariable>
					<variableId>Pulse_Qfcst</variableId>
				</outputVariable>
			</simple>
		</merge>
	</transformation>
	<!--Step 2 Flow Fcst: Aggregate (instantaneous) STF and URBS series to daily-->
	<transformation id="SDF_Qfcst">
		<aggregation>
			<instantaneous>
				<inputVariable>
					<variableId>SDF_hourly</variableId>
				</inputVariable>
				<outputVariable>
					<variableId>SDF_Qfcst</variableId>
				</outputVariable>
			</instantaneous>
		</aggregation>
	</transformation>
	<transformation id="STF_Qfcst">
		<aggregation>
			<instantaneous>
				<inputVariable>
					<variableId>STF_hourly</variableId>
				</inputVariable>
				<outputVariable>
					<variableId>STF_Qfcst</variableId>
				</outputVariable>
			</instantaneous>
		</aggregation>
	</transformation>
	<transformation id="URBS_Qfcst">
		<aggregation>
			<instantaneous>
				<inputVariable>
					<variableId>URBS_hourly</variableId>
				</inputVariable>
				<outputVariable>
					<variableId>URBS_Qfcst</variableId>
				</outputVariable>
			</instantaneous>
		</aggregation>
	</transformation>
	<!--Step 3 Flow Fcst: Yearly average (Q_plan, statistics)-->
	<transformation id="Cycle_month">
		<profile>
			<timeSeries>
				<inputProfile>
					<data value="1" monthDay="--01-01"/>
					<data value="2" monthDay="--02-01"/>
					<data value="3" monthDay="--03-01"/>
					<data value="4" monthDay="--04-01"/>
					<data value="5" monthDay="--05-01"/>
					<data value="6" monthDay="--06-01"/>
					<data value="7" monthDay="--07-01"/>
					<data value="8" monthDay="--08-01"/>
					<data value="9" monthDay="--09-01"/>
					<data value="10" monthDay="--10-01"/>
					<data value="11" monthDay="--11-01"/>
					<data value="12" monthDay="--12-01"/>
					<timeZone>
						<timeZoneOffset>+10:00</timeZoneOffset>
					</timeZone>
				</inputProfile>
				<type>simple</type>
				<outputVariable>
					<variableId>Cycle_month</variableId>
				</outputVariable>
			</timeSeries>
		</profile>
	</transformation>
	<transformation id="Qplan_monthly_min">
		<user>
			<simple>
				<expression>if(Cycle_month ==1,  JAN_MIN_QPLAN, if(Cycle_month==2, FEB_MIN_QPLAN, if(Cycle_month==3, MAR_MIN_QPLAN, if(Cycle_month==4, APR_MIN_QPLAN, if(Cycle_month==5, MAY_MIN_QPLAN, if(Cycle_month==6, JUN_MIN_QPLAN , if(Cycle_month==7, JUL_MIN_QPLAN , if(Cycle_month==8, AUG_MIN_QPLAN, if(Cycle_month==9, SEP_MIN_QPLAN, if(Cycle_month==10, OCT_MIN_QPLAN , if(Cycle_month==11, NOV_MIN_QPLAN , DEC_MIN_QPLAN)))))))))))</expression>
				<coefficientSetFunctions>
					<coefficient id="JAN_MIN_QPLAN" value="@JAN_MIN_QPLAN@"/>
					<coefficient id="FEB_MIN_QPLAN" value="@FEB_MIN_QPLAN@"/>
					<coefficient id="MAR_MIN_QPLAN" value="@MAR_MIN_QPLAN@"/>
					<coefficient id="APR_MIN_QPLAN" value="@APR_MIN_QPLAN@"/>
					<coefficient id="MAY_MIN_QPLAN" value="@MAY_MIN_QPLAN@"/>
					<coefficient id="JUN_MIN_QPLAN" value="@JUN_MIN_QPLAN@"/>
					<coefficient id="JUL_MIN_QPLAN" value="@JUL_MIN_QPLAN@"/>
					<coefficient id="AUG_MIN_QPLAN" value="@AUG_MIN_QPLAN@"/>
					<coefficient id="SEP_MIN_QPLAN" value="@SEP_MIN_QPLAN@"/>
					<coefficient id="OCT_MIN_QPLAN" value="@OCT_MIN_QPLAN@"/>
					<coefficient id="NOV_MIN_QPLAN" value="@NOV_MIN_QPLAN@"/>
					<coefficient id="DEC_MIN_QPLAN" value="@DEC_MIN_QPLAN@"/>
				</coefficientSetFunctions>
				<outputVariable>
					<variableId>Qplan_monthly_min</variableId>
				</outputVariable>
			</simple>
		</user>
	</transformation>
	<transformation id="Qplan_monthly_aep90">
		<user>
			<simple>
				<expression>if(Cycle_month ==1,  JAN_90_QPLAN, if(Cycle_month==2, FEB_90_QPLAN, if(Cycle_month==3, MAR_90_QPLAN, if(Cycle_month==4, APR_90_QPLAN, if(Cycle_month==5, MAY_90_QPLAN, if(Cycle_month==6, JUN_90_QPLAN , if(Cycle_month==7, JUL_90_QPLAN , if(Cycle_month==8, AUG_90_QPLAN, if(Cycle_month==9, SEP_90_QPLAN, if(Cycle_month==10, OCT_90_QPLAN , if(Cycle_month==11, NOV_90_QPLAN , DEC_90_QPLAN)))))))))))</expression>
				<coefficientSetFunctions>
					<coefficient id="JAN_90_QPLAN" value="@JAN_90_QPLAN@"/>
					<coefficient id="FEB_90_QPLAN" value="@FEB_90_QPLAN@"/>
					<coefficient id="MAR_90_QPLAN" value="@MAR_90_QPLAN@"/>
					<coefficient id="APR_90_QPLAN" value="@APR_90_QPLAN@"/>
					<coefficient id="MAY_90_QPLAN" value="@MAY_90_QPLAN@"/>
					<coefficient id="JUN_90_QPLAN" value="@JUN_90_QPLAN@"/>
					<coefficient id="JUL_90_QPLAN" value="@JUL_90_QPLAN@"/>
					<coefficient id="AUG_90_QPLAN" value="@AUG_90_QPLAN@"/>
					<coefficient id="SEP_90_QPLAN" value="@SEP_90_QPLAN@"/>
					<coefficient id="OCT_90_QPLAN" value="@OCT_90_QPLAN@"/>
					<coefficient id="NOV_90_QPLAN" value="@NOV_90_QPLAN@"/>
					<coefficient id="DEC_90_QPLAN" value="@DEC_90_QPLAN@"/>
				</coefficientSetFunctions>
				<outputVariable>
					<variableId>Qplan_monthly_aep90</variableId>
				</outputVariable>
			</simple>
		</user>
	</transformation>
	<transformation id="Qplan_monthly_aep75">
		<user>
			<simple>
				<expression>if(Cycle_month ==1,  JAN_75_QPLAN, if(Cycle_month==2, FEB_75_QPLAN, if(Cycle_month==3, MAR_75_QPLAN, if(Cycle_month==4, APR_75_QPLAN, if(Cycle_month==5, MAY_75_QPLAN, if(Cycle_month==6, JUN_75_QPLAN , if(Cycle_month==7, JUL_75_QPLAN , if(Cycle_month==8, AUG_75_QPLAN, if(Cycle_month==9, SEP_75_QPLAN, if(Cycle_month==10, OCT_75_QPLAN , if(Cycle_month==11, NOV_75_QPLAN , DEC_75_QPLAN)))))))))))</expression>
				<coefficientSetFunctions>
					<coefficient id="JAN_75_QPLAN" value="@JAN_75_QPLAN@"/>
					<coefficient id="FEB_75_QPLAN" value="@FEB_75_QPLAN@"/>
					<coefficient id="MAR_75_QPLAN" value="@MAR_75_QPLAN@"/>
					<coefficient id="APR_75_QPLAN" value="@APR_75_QPLAN@"/>
					<coefficient id="MAY_75_QPLAN" value="@MAY_75_QPLAN@"/>
					<coefficient id="JUN_75_QPLAN" value="@JUN_75_QPLAN@"/>
					<coefficient id="JUL_75_QPLAN" value="@JUL_75_QPLAN@"/>
					<coefficient id="AUG_75_QPLAN" value="@AUG_75_QPLAN@"/>
					<coefficient id="SEP_75_QPLAN" value="@SEP_75_QPLAN@"/>
					<coefficient id="OCT_75_QPLAN" value="@OCT_75_QPLAN@"/>
					<coefficient id="NOV_75_QPLAN" value="@NOV_75_QPLAN@"/>
					<coefficient id="DEC_75_QPLAN" value="@DEC_75_QPLAN@"/>
				</coefficientSetFunctions>
				<outputVariable>
					<variableId>Qplan_monthly_aep75</variableId>
				</outputVariable>
			</simple>
		</user>
	</transformation>
	<transformation id="Qplan_monthly_aep50">
		<user>
			<simple>
				<expression>if(Cycle_month ==1,  JAN_50_QPLAN, if(Cycle_month==2, FEB_50_QPLAN, if(Cycle_month==3, MAR_50_QPLAN, if(Cycle_month==4, APR_50_QPLAN, if(Cycle_month==5, MAY_50_QPLAN, if(Cycle_month==6, JUN_50_QPLAN , if(Cycle_month==7, JUL_50_QPLAN , if(Cycle_month==8, AUG_50_QPLAN, if(Cycle_month==9, SEP_50_QPLAN, if(Cycle_month==10, OCT_50_QPLAN , if(Cycle_month==11, NOV_50_QPLAN , DEC_50_QPLAN)))))))))))</expression>
				<coefficientSetFunctions>
					<coefficient id="JAN_50_QPLAN" value="@JAN_50_QPLAN@"/>
					<coefficient id="FEB_50_QPLAN" value="@FEB_50_QPLAN@"/>
					<coefficient id="MAR_50_QPLAN" value="@MAR_50_QPLAN@"/>
					<coefficient id="APR_50_QPLAN" value="@APR_50_QPLAN@"/>
					<coefficient id="MAY_50_QPLAN" value="@MAY_50_QPLAN@"/>
					<coefficient id="JUN_50_QPLAN" value="@JUN_50_QPLAN@"/>
					<coefficient id="JUL_50_QPLAN" value="@JUL_50_QPLAN@"/>
					<coefficient id="AUG_50_QPLAN" value="@AUG_50_QPLAN@"/>
					<coefficient id="SEP_50_QPLAN" value="@SEP_50_QPLAN@"/>
					<coefficient id="OCT_50_QPLAN" value="@OCT_50_QPLAN@"/>
					<coefficient id="NOV_50_QPLAN" value="@NOV_50_QPLAN@"/>
					<coefficient id="DEC_50_QPLAN" value="@DEC_50_QPLAN@"/>
				</coefficientSetFunctions>
				<outputVariable>
					<variableId>Qplan_monthly_aep50</variableId>
				</outputVariable>
			</simple>
		</user>
	</transformation>
	<transformation id="Qplan_monthly_shift_min">
		<timeShift>
			<constant>
				<inputVariable>
					<variableId>Qplan_monthly_min</variableId>
				</inputVariable>
				<direction>forward</direction>
				<numberOfTimeSteps>1</numberOfTimeSteps>
				<outputVariable>
					<variableId>Qplan_monthly_shift_min</variableId>
				</outputVariable>
			</constant>
		</timeShift>
	</transformation>
	<transformation id="Qplan_monthly_shift_aep90">
		<timeShift>
			<constant>
				<inputVariable>
					<variableId>Qplan_monthly_aep90</variableId>
				</inputVariable>
				<direction>forward</direction>
				<numberOfTimeSteps>1</numberOfTimeSteps>
				<outputVariable>
					<variableId>Qplan_monthly_shift_aep90</variableId>
				</outputVariable>
			</constant>
		</timeShift>
	</transformation>
	<transformation id="Qplan_monthly_shift_aep75">
		<timeShift>
			<constant>
				<inputVariable>
					<variableId>Qplan_monthly_aep75</variableId>
				</inputVariable>
				<direction>forward</direction>
				<numberOfTimeSteps>1</numberOfTimeSteps>
				<outputVariable>
					<variableId>Qplan_monthly_shift_aep75</variableId>
				</outputVariable>
			</constant>
		</timeShift>
	</transformation>
	<transformation id="Qplan_monthly_shift_aep50">
		<timeShift>
			<constant>
				<inputVariable>
					<variableId>Qplan_monthly_aep50</variableId>
				</inputVariable>
				<direction>forward</direction>
				<numberOfTimeSteps>1</numberOfTimeSteps>
				<outputVariable>
					<variableId>Qplan_monthly_shift_aep50</variableId>
				</outputVariable>
			</constant>
		</timeShift>
	</transformation>
	<transformation id="Qplan_daily_min">
		<disaggregation>
			<meanToMean>
				<inputVariable>
					<variableId>Qplan_monthly_shift_min</variableId>
				</inputVariable>
				<outputVariable>
					<variableId>Qplan_daily_min</variableId>
				</outputVariable>
			</meanToMean>
		</disaggregation>
	</transformation>
	<transformation id="Qplan_daily_aep90">
		<disaggregation>
			<meanToMean>
				<inputVariable>
					<variableId>Qplan_monthly_shift_aep90</variableId>
				</inputVariable>
				<outputVariable>
					<variableId>Qplan_daily_aep90</variableId>
				</outputVariable>
			</meanToMean>
		</disaggregation>
	</transformation>
	<transformation id="Qplan_daily_aep75">
		<disaggregation>
			<meanToMean>
				<inputVariable>
					<variableId>Qplan_monthly_shift_aep75</variableId>
				</inputVariable>
				<outputVariable>
					<variableId>Qplan_daily_aep75</variableId>
				</outputVariable>
			</meanToMean>
		</disaggregation>
	</transformation>
	<transformation id="Qplan_daily_aep50">
		<disaggregation>
			<meanToMean>
				<inputVariable>
					<variableId>Qplan_monthly_shift_aep50</variableId>
				</inputVariable>
				<outputVariable>
					<variableId>Qplan_daily_aep50</variableId>
				</outputVariable>
			</meanToMean>
		</disaggregation>
	</transformation>
	<!--Step 4 Flow Fcst: Select forecast and scenario (via modifiers)-->
	<transformation id="Shortterm_Qfcst">
		<merge>
			<selectDataSource>
				<input>
					<variableId>SDF_Qfcst</variableId>
				</input>
				<input>
					<variableId>STF_Qfcst</variableId>
				</input>
				<input>
					<variableId>Trend_Qfcst</variableId>
				</input>
				<input>
					<variableId>Pulse_Qfcst</variableId>
				</input>
				<input>
					<variableId>URBS_Qfcst</variableId>
				</input>
				<input>
					<variableId>Source_Qfcst</variableId>
				</input>
				<input>
					<variableId>MDBC_Qfcst</variableId>
				</input>
				<input>
					<variableId>Gamma_Qfcst</variableId>
				</input>
				<attributeFunctionId>@SITE_Q_FCST_SELECT@_Qfcst</attributeFunctionId>
				<output>
					<variableId>Shortterm_Qfcst</variableId>
				</output>
			</selectDataSource>
		</merge>
	</transformation>
	<transformation id="Qcomb_min">
		<merge>
			<simple>
				<inputVariable>
					<variableId>Gauges_Qobs_extend</variableId>
				</inputVariable>
				<inputVariable>
					<variableId>Shortterm_Qfcst</variableId>
				</inputVariable>
				<inputVariable>
					<variableId>Qplan_hydro_min</variableId>
				</inputVariable>
				<inputVariable>
					<variableId>Qplan_daily_min</variableId>
				</inputVariable>
				<outputVariable>
					<variableId>Qcomb_min</variableId>
				</outputVariable>
			</simple>
		</merge>
	</transformation>
	<transformation id="Qcomb_aep90">
		<merge>
			<simple>
				<inputVariable>
					<variableId>Gauges_Qobs_extend</variableId>
				</inputVariable>
				<inputVariable>
					<variableId>Shortterm_Qfcst</variableId>
				</inputVariable>
				<inputVariable>
					<variableId>Qplan_hydro_aep90</variableId>
				</inputVariable>
				<inputVariable>
					<variableId>Qplan_daily_aep90</variableId>
				</inputVariable>
				<outputVariable>
					<variableId>Qcomb_aep90</variableId>
				</outputVariable>
			</simple>
		</merge>
	</transformation>
	<transformation id="Qcomb_aep75">
		<merge>
			<simple>
				<inputVariable>
					<variableId>Gauges_Qobs_extend</variableId>
				</inputVariable>
				<inputVariable>
					<variableId>Shortterm_Qfcst</variableId>
				</inputVariable>
				<inputVariable>
					<variableId>Qplan_hydro_aep75</variableId>
				</inputVariable>
				<inputVariable>
					<variableId>Qplan_daily_aep75</variableId>
				</inputVariable>
				<outputVariable>
					<variableId>Qcomb_aep75</variableId>
				</outputVariable>
			</simple>
		</merge>
	</transformation>
	<transformation id="Qcomb_aep50">
		<merge>
			<simple>
				<inputVariable>
					<variableId>Gauges_Qobs_extend</variableId>
				</inputVariable>
				<inputVariable>
					<variableId>Shortterm_Qfcst</variableId>
				</inputVariable>
				<inputVariable>
					<variableId>Qplan_hydro_aep50</variableId>
				</inputVariable>
				<inputVariable>
					<variableId>Qplan_daily_aep50</variableId>
				</inputVariable>
				<outputVariable>
					<variableId>Qcomb_aep50</variableId>
				</outputVariable>
			</simple>
		</merge>
	</transformation>
</transformationModule>
